{"version":3,"sources":["helpers/api.js","services/user.js","components/LoginForm/index.jsx","redux/actions.js","redux/types.js","components/Logo/index.jsx","containers/LoginPage/index.jsx","containers/ProfilePage/index.jsx","containers/SiteHeader/index.jsx","services/contact.js","components/Contact/index.jsx","services/category.js","components/Spinner/index.jsx","services/image.js","components/FileInput/index.jsx","components/AddContactForm/EmailField.jsx","components/AddContactForm/TelField.jsx","stripEmpty.util.js","components/AddContactForm/index.jsx","containers/AddContactPage/index.jsx","components/UpdateCategoryForm/index.jsx","containers/Category/index.jsx","components/AddCategoryForm/index.jsx","containers/CategoriesPage/index.jsx","containers/BirthdaysPage/index.jsx","containers/Sidebar/index.jsx","containers/Contacts/index.jsx","components/UpdateContactForm/index.jsx","containers/UpdateContactPage/index.jsx","containers/ExpandedContact/index.jsx","containers/MainPage/index.jsx","containers/PrivateRoute/index.jsx","components/RegisterForm/index.jsx","containers/RegisterPage/index.jsx","components/UpdateProfileForm/index.jsx","containers/UpdateProfilePage/index.jsx","scenes/NotFound/index.jsx","containers/Routing/index.jsx","redux/store.js","redux/reducers.js","scenes/Home/index.jsx","index.jsx","config.js"],"names":["request","a","method","url","body","type","fetch","headers","then","res","json","result","login","email","password","JSON","stringify","register","settings","update","logout","exists","LoginForm","set","useState","Email","Password","emailValid","EmailValid","passwordValid","PasswordValid","loading","Loading","LogIn","valid","message","alert","user","localStorage","setItem","token","window","location","href","Form","onSubmit","Input","icon","iconPosition","placeholder","error","fluid","onChange","e","val","target","value","onBlur","validator","isEmail","Boolean","Button","color","size","primary","disabled","setProfile","profile","setExpandedContact","contact","Logo","noImage","Header","as","style","marginBottom","src","alt","Subheader","connect","dispatch","document","title","Grid","textAlign","verticalAlign","className","Column","maxWidth","Segment","Message","Content","onClick","compact","marginTop","state","columns","firstName","lastName","centered","circular","photo","padding","backgroundColor","Group","clear","reload","Modal","openOnTriggerClick","closeIcon","dimmer","trigger","positive","getContacts","contacts","addContact","updateContact","id","data","getBirthdays","deleteContact","Contact","favorite","Label","category","name","who","get","categories","add","about","deleteCategory","Spinner","Dimmer","active","inverted","Loader","React","Component","uploadImage","image","FormData","append","FileInput","buttonText","types","setLoading","startUploaded","ref","createRef","imageText","ImageText","avatarUploaded","AvatarUploaded","current","click","Icon","content","negative","display","accept","join","files","_id","rest","Valid","onChangeCode","onChangeVal","valPlaceholder","codePlaceholder","codeDef","valDef","Val","code","Code","width","startsWith","length","defaultValue","test","stripEmpty","Array","isArray","i","undefined","splice","indexOf","Object","entries","key","keys","AddContactForm","first","First","last","Last","mainTelCode","MainTelCode","mainTelVal","MainTelVal","mainEmail","MainEmail","Category","emails","Emails","tels","Tels","birthDate","BirthDate","Who","About","telegram","Telegram","viber","Viber","whatsapp","Whatsapp","facebook","Facebook","twitter","Twitter","instagram","Instagram","Favorite","Photo","categoriesOpts","map","cat","text","RegisterContact","strip","mainTelephone","telephones","messangers","Date","getFullYear","getMonth","getDate","TelField","tel","EmailField","Select","options","TextArea","Checkbox","label","checked","toggle","AddContactPage","UpdateCategoryForm","defs","Name","Update","Delete","contactsCount","Statistic","Actions","AddCategoryForm","nameValid","NameValid","Add","CategoriesPage","BirthdaysPage","requested","birthdays","this","setState","backgroundBlendMode","backgroundImage","List","Item","getContactName","birthdayStr","Sidebar","filterDefs","newFilter","addContactTrigger","interval","setInterval","scrollY","clearInterval","scrollBy","categoriesOptions","origin","querystring","Or","secondary","toTop","onContactClick","stretched","Sticky","offset","UpdateContactForm","date","__fmt__","String","UpdateContact","repeat","UpdateContactPage","expanded","Close","useRef","useEffect","getCategories","onClose","open","telephone","whiteSpace","margin","MainPage","query","props","search","filter","parse","slice","c","toLowerCase","includes","PrivateRoute","authorized","component","RegisterForm","FirstName","LastName","Image","Register","fields","firstNameO","lastNameO","imageO","UpdateProfileForm","errorMessage","ErrorMessage","NotFound","Routing","history","createBrowserHistory","userString","getItem","userExists","exact","LoginPage","path","exaxt","RegisterPage","UpdateProfilePage","reducer","combineReducers","action","store","createStore","Home","prevFetch","opts","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a17c0740.chunk.js","sourcesContent":["export const request = async ({ method, url, body, type = \"application/json\" }) => {\n    const result = await fetch(url, {\n        method,\n        headers: {\n            ...(type ? { \"Content-Type\": type } : {})\n        },\n        ...(body ? { body } : {})\n    }).then(res => res.json());\n\n    return result;\n};","import { request } from \"../helpers/api\";\n\nexport const login = async ({ email, password }) => {\n    const result = await request({\n        method: \"POST\",\n        url: `/api/user/login`,\n        body: JSON.stringify({ email, password })\n    });\n\n    return result;\n};\n\nexport const register = async settings => {\n    const result = await request({\n        method: \"POST\",\n        url: `/api/user/register`,\n        body: JSON.stringify(settings)\n    });\n\n    return result;\n};\n\nexport const update = async settings => {\n    const result = await request({\n        method: \"PUT\",\n        url: `/api/user/update`,\n        body: JSON.stringify(settings)\n    });\n\n    return result;\n};\n\nexport const logout = async () => {\n    const result = await request({\n        method: \"POST\",\n        url: `/api/user/logout`\n    });\n\n    return result;\n};\n\nexport const exists = async email => {\n    const result = await request({\n        method: \"GET\",\n        url: `/api/user/exists?email=${email}`\n    });\n\n    return result;\n};\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport validator from \"validator\";\n\nconst LoginForm = ({ login, set }) => {\n    const [email, Email] = useState(\"\");\n    const [password, Password] = useState(\"\");\n    const [emailValid, EmailValid] = useState(true);\n    const [passwordValid, PasswordValid] = useState(true);\n    const [loading, Loading] = useState(false);\n\n    const LogIn = async () => {\n        const valid = emailValid && passwordValid;\n        if (!email || !password || !valid || loading) return;\n        Loading(true);\n        const result = await login({ email, password });\n        Loading(false);\n\n        if (result.message) {\n            alert(result.message);\n        } else if (result.user) {\n            localStorage.setItem(\"user\", JSON.stringify(result.user));\n            localStorage.setItem(\"token\", result.token)\n            set(result.user);\n            window.location.href = \"/\";\n        }\n    }\n\n    const setEmail = val => {\n        Email(val);\n        EmailValid(true);\n    }\n\n    const setPassword = val => {\n        Password(val);\n        PasswordValid(true);\n    }\n\n    return (\n        <Form onSubmit={LogIn}>\n            <Form.Input\n                icon=\"at\"\n                type=\"email\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                error={!emailValid}\n                fluid\n                onChange={e => setEmail(e.target.value)}\n                onBlur={() => EmailValid(validator.isEmail(email))}\n            />\n            <Form.Input\n                icon=\"lock\"\n                type=\"password\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                error={!passwordValid}\n                fluid\n                onChange={e => setPassword(e.target.value)}\n                onBlur={() => PasswordValid(Boolean(password))}\n            />\n            <Button\n                color=\"teal\"\n                size=\"large\"\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n                disabled={!Boolean(email && password)}\n            >\n                Log in\n            </Button>\n        </Form>\n    );\n};\n\nexport default LoginForm;\n","import { SET_PROFILE, SET_EXP_CONTACT } from \"./types\";\n\nexport const setProfile = profile => ({\n    type: SET_PROFILE,\n    profile\n});\n\nexport const setExpandedContact = contact => ({\n    type: SET_EXP_CONTACT,\n    contact\n});\n","export const SET_PROFILE = \"PROFILE:SET\";\nexport const SET_EXP_CONTACT = \"EXP_CONTACT:SET\";\n","import React from \"react\";\nimport { Header, Image } from \"semantic-ui-react\";\n\nconst Logo = ({ noImage = false }) => {\n    return (\n        <Header as=\"h2\" color=\"teal\" size=\"huge\" style={{ marginBottom: 50 }} >\n            {!noImage ? <Image src=\"http://s1.iconbird.com/ico/2013/7/390/w256h2561372777054AddressBook.png\" alt=\"book\" /> : \"\"}\n            <br />\n            Contact Book\n            <Header.Subheader>\n                A notebook for your contacts\n            </Header.Subheader>\n        </Header>\n    );\n};\n\nexport default Logo;\n","import React from \"react\";\nimport { Grid, Segment, Header, Message, Button } from \"semantic-ui-react\";\nimport { login } from \"../../services/user\";\nimport LoginForm from \"../../components/LoginForm\";\nimport { connect } from \"react-redux\";\nimport { setProfile } from \"../../redux/actions\";\nimport Logo from \"../../components/Logo\";\n\nconst LoginPage = ({ setProfile }) => {\n    document.title = \"Contact Book | Log in\";\n\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Logo />\n                <Header as=\"h2\" color=\"olive\">Log in to your account</Header>\n                <Segment>\n                    <LoginForm login={login} set={setProfile} />\n                </Segment>\n                <Message>\n                    <Message.Header>New to us?</Message.Header>\n                    <Message.Content>\n                        <Button\n                            onClick={() => window.location.href = \"/register\"}\n                            compact\n                            size=\"mini\"\n                            color=\"teal\"\n                            style={{ marginTop: 10 }}\n                        >\n                            Sign up\n                        </Button>\n                    </Message.Content>\n                </Message>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    setProfile: user => dispatch(setProfile(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Image, Header, Segment, Grid } from \"semantic-ui-react\";\n\nconst ProfilePage = ({ user }) => {\n    return (\n        <Segment>\n            <Header textAlign=\"center\" size=\"huge\">Your Contact Book profile info</Header>\n            <Grid columns=\"2\" textAlign=\"center\" verticalAlign=\"middle\">\n                <Grid.Column>\n                    {user.firstName ? <p>First name: {user.firstName}</p> : \"\"}\n                    {user.lastName ? <p>Last name: {user.lastName}</p> : \"\"}\n                </Grid.Column>\n                <Grid.Column>\n                    <p>Email: {user.email}</p>\n                </Grid.Column>\n            </Grid>\n            <Image centered circular src={user.photo.url} alt=\"Profile photo\" />\n        </Segment>\n    );\n};\n\nconst mapStateToProps = state => ({\n    user: state.profile.profile\n});\n\nexport default connect(mapStateToProps)(ProfilePage);\n","import React from \"react\";\nimport { Header, Image, Grid, Button, Modal } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../services/user\";\nimport ProfilePage from \"../ProfilePage\";\n\nconst SiteHeader = ({ user }) => {\n    const getUserText = () => {\n        if (user.firstName && (user.lastName || true)) {\n            return user.firstName + \" \" + (user.lastName || \"\");\n        } else {\n            return user.email;\n        }\n    };\n\n    const LogOut = () => {\n        logout().then(() => {\n            localStorage.clear();\n            window.location.reload();\n        });\n    };\n\n    return (\n        <Grid centered columns=\"2\" style={{ padding: \"1em 0\", backgroundColor: \"white\" }} verticalAlign=\"middle\">\n            <Grid.Column textAlign=\"center\" verticalAlign=\"middle\">\n                <Header>\n                    <Image src={user.photo.url} circular size=\"massive\" alt=\"Profile avatar\" />\n                    {\" \"}\n                    {getUserText()}\n                </Header>\n            </Grid.Column>\n            <Grid.Column textAlign=\"center\" verticalAlign=\"middle\">\n                <Button.Group>\n                    <Button\n                        icon=\"sign out alternate\"\n                        color=\"red\"\n                        size=\"large\"\n                        onClick={LogOut}\n                    />\n                    <Button\n                        icon=\"refresh\"\n                        color=\"yellow\"\n                        size=\"large\"\n                        onClick={() => window.location.href = \"/update\"}\n                    />\n                    <Modal openOnTriggerClick closeIcon dimmer=\"blurring\" trigger={\n                        <Button\n                            icon=\"info\"\n                            positive\n                            size=\"large\"\n                        />\n                    }>\n                        <Modal.Header>Profile</Modal.Header>\n                        <Modal.Content>\n                            <ProfilePage />\n                        </Modal.Content>\n                    </Modal>\n                </Button.Group>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = state => ({\n    user: state.profile.profile\n});\n\nexport default connect(mapStateToProps)(SiteHeader);\n","import { request } from \"../helpers/api\";\n\nexport const getContacts = async () => {\n    const result = await request({\n        url: \"/api/contact\",\n        method: \"GET\"\n    });\n\n    return result.contacts;\n};\n\nexport const addContact = async settings => {\n    const result = await request({\n        url: \"/api/contact/register\",\n        method: \"POST\",\n        body: JSON.stringify(settings)\n    });\n\n    return result.contact;\n};\n\nexport const updateContact = async (id, settings) => {\n    const result = await request({\n        url: \"/api/contact/update\",\n        method: \"PUT\",\n        body: JSON.stringify({ id, data: settings })\n    });\n\n    return result.contact;\n};\n\nexport const getBirthdays = async () => {\n    const result = await request({\n        url: \"/api/contact/birthdays\",\n        method: \"GET\"\n    });\n\n    return result.contacts;\n};\n\nexport const deleteContact = async id => {\n    const result = await request({\n        url: \"/api/contact/delete\",\n        method: \"DELETE\",\n        body: JSON.stringify({ id })\n    });\n\n    return result.contact;\n};\n","import React from \"react\";\nimport { Segment, Grid, Image, Label, Header } from \"semantic-ui-react\";\n\nconst Contact = ({ contact, onClick }) => {\n    return (\n        <Segment onClick={onClick(contact)} style={{ backgroundColor: contact.favorite ? \"yellow\" : \"while\" }}>\n            <Grid textAlign=\"center\" verticalAlign=\"middle\" columns=\"3\">\n                <Grid.Column>\n                    <Grid columns=\"2\" verticalAlign=\"middle\">\n                        <Grid.Column>\n                            <Image src={contact.photo.url} alt=\"Contact photo\" circular size=\"tiny\" />\n                        </Grid.Column>\n                        <Grid.Column>\n                            <Header>\n                                {\n                                    (contact.firstName || \"\") +\n                                    \" \" +\n                                    (contact.lastName || \"\")\n                                }\n                            </Header>\n                        </Grid.Column>\n                    </Grid>\n                </Grid.Column>\n                <Grid.Column>\n                    <Label color=\"green\">{contact.category.name}</Label>\n                    {contact.who ? <Label color=\"red\">{contact.who}</Label> : \"\"}\n                </Grid.Column>\n            </Grid>\n        </Segment>\n    );\n};\n\nexport default Contact;\n","import { request } from \"../helpers/api\";\n\nexport const get = async () => {\n    const result = await request({\n        url: \"/api/category\",\n        method: \"GET\"\n    });\n\n    return result.categories;\n};\n\nexport const add = async ({ name, about }) => {\n    const result = await request({\n        url: \"/api/category/register\",\n        method: \"POST\",\n        body: JSON.stringify({ name, about })\n    });\n\n    return result.category;\n};\n\nexport const update = async (id, { name, about }) => {\n    const result = await request({\n        url: \"/api/category/update\",\n        method: \"PUT\",\n        body: JSON.stringify({ id, data: { name, about } })\n    });\n\n    return result.category;\n};\n\nexport const deleteCategory = async id => {\n    const result = await request({\n        url: \"/api/category/delete\",\n        method: \"DELETE\",\n        body: JSON.stringify({ id })\n    });\n\n    return result.category;\n};\n","import React from \"react\";\nimport { Dimmer, Loader } from \"semantic-ui-react\";\n\nclass Spinner extends React.Component {\n    render() {\n        return (\n            <Dimmer active inverted>\n                <Loader size=\"massive\" inverted />\n            </Dimmer>\n        );\n    }\n}\n\nexport default Spinner;\n","import { request } from \"../helpers/api\";\n\nexport const uploadImage = async image => {\n    const data = new FormData();\n    data.append(\"image\", image);\n\n    const result = await request({\n        url: `/api/image/register`,\n        method: \"POST\",\n        type: null,\n        body: data\n    });\n\n    return result.image;\n};\n","import React, { createRef, useState } from \"react\";\nimport { Button, Icon, Label } from \"semantic-ui-react\";\nimport { uploadImage } from \"../../services/image\";\n\nconst FileInput = ({\n    buttonText = \"Choose photo\",\n    types = [\".png\", \".bmp\", \".jpg\", \".jpeg\"],\n    onChange,\n    setLoading,\n    startUploaded = false\n}) => {\n    const ref = createRef();\n    const [imageText, ImageText] = useState(\"No image\");\n    const [avatarUploaded, AvatarUploaded] = useState(startUploaded);\n\n    const upload = e => {\n        if (e.target.files[0]) {\n            setLoading(true);\n\n            uploadImage(e.target.files[0]).then(({ _id }) => {\n                onChange(_id);\n                ImageText(\"Your image is uploaded!\");\n                setLoading(false);\n                AvatarUploaded(true);\n            });\n        } else {\n            onChange(null);\n            ImageText(\"No image\");\n            AvatarUploaded(false);\n        }\n    };\n\n    return (\n        <>\n            <Label color={avatarUploaded ? \"green\" : \"grey\"} style={{ marginBottom: 10 }}>{imageText}</Label>\n            <Button.Group fluid>\n                <Button\n                    color=\"teal\"\n                    size=\"large\"\n                    onClick={() => ref.current.click()}\n                    style={{ marginBottom: 10 }}\n                    type=\"button\"\n                >\n                    <Icon name=\"image\" />\n                    {buttonText}\n                </Button>\n                <Button\n                    content=\"Delete image\"\n                    negative\n                    onClick={() => {\n                        onChange(null);\n                        ImageText(\"No image\");\n                        AvatarUploaded(false);\n                    }}\n                    style={{ marginBottom: 10 }}\n                    type=\"button\"\n                    disabled={!avatarUploaded}\n                />\n            </Button.Group>\n            <input\n                type=\"file\"\n                style={{ display: \"none\" }}\n                ref={ref}\n                accept={types.join(\", \")}\n                onChange={upload}\n            />\n        </>\n    );\n};\n\nexport default FileInput;\n","import React, { useState } from \"react\";\nimport validator from \"validator\";\nimport { Form } from \"semantic-ui-react\"\n\nexport default ({ onChange, ...rest }) => {\n    const [valid, Valid] = useState(true);\n\n    return (\n        <Form.Input \n            type=\"email\"\n            icon=\"at\"\n            iconPosition=\"left\"\n            fluid\n            error={!valid}\n            onChange={e => {\n                onChange(e);\n                Valid(validator.isEmail(e.target.value))\n            }}\n            {...rest}\n        />\n    );\n};\n","import React, { useState } from \"react\";\nimport { Form } from \"semantic-ui-react\"\n\nexport default ({ onChangeCode, onChangeVal, valPlaceholder, codePlaceholder, codeDef = \"\", valDef = \"\" }) => {\n    const [val, Val] = useState(\"\");\n    const [code, Code] = useState(\"\");\n\n    return (\n        <Form.Group>\n            <Form.Input\n                width={7}\n                error={code ? !(code.startsWith(\"+\") && code.length >= 2 && code.length <= 4) : false}\n                onChange={e => {\n                    onChangeCode(e);\n                    Code(e.target.value);\n                }}\n                placeholder={codePlaceholder}\n                defaultValue={codeDef}\n            />\n            <Form.Input\n                width={7}\n                error={val ? !(/^[0-9]{9}$/.test(val)) : false}\n                onChange={e => {\n                    onChangeVal(e);\n                    Val(e.target.value);\n                }}\n                placeholder={valPlaceholder}\n                defaultValue={valDef}\n            />\n        </Form.Group>\n    );\n};\n","export default function stripEmpty(value) {\n    if (Array.isArray(value)) {\n        for (let i = 0; i < value.length; i++) {\n            const val = value[i];\n\n            if (val === \"\" || val === null || val === undefined) {\n                value.splice(value.indexOf(val), 1);\n                i--;\n            } else if (Array.isArray(val) || typeof val === \"object\") {\n                const canDelete = stripEmpty(val);\n\n                if (canDelete[0]) {\n                    if (Array.isArray(value)) {\n                        value.splice(value.indexOf(val), 1);\n                    } else {\n                        delete value[i];\n                    }\n                }\n            }\n        }\n    } else if (typeof value === \"object\" && value !== null) {\n        for (const [key, val] of Object.entries(value)) {\n            if (val === \"\" || val === null || val === undefined) {\n                delete value[key];\n            } else if (Array.isArray(val) || typeof val === \"object\") {\n                const canDelete = stripEmpty(val);\n\n                if (canDelete[0]) {\n                    if (Array.isArray(value)) {\n                        value.splice(value.indexOf(val), 1);\n                    } else {\n                        delete value[key];\n                    }\n                }\n            }\n        }\n    }\n\n    return [value.length ? value.length === 0 : Object.keys(value).length === 0, value];\n}\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport FileInput from \"../FileInput\";\nimport EmailField from \"./EmailField\";\nimport TelField from \"./TelField\";\nimport strip from \"../../stripEmpty.util\";\nimport { addContact } from \"../../services/contact\";\n\nconst AddContactForm = ({ categories }) => {\n    const [first, First] = useState(\"\");\n    const [last, Last] = useState(\"\");\n    const [mainTelCode, MainTelCode] = useState(\"\");\n    const [mainTelVal, MainTelVal] = useState(\"\")\n    const [mainEmail, MainEmail] = useState(\"\");\n    const [category, Category] = useState(categories[0]._id);\n    const [emails, Emails] = useState([]);\n    const [tels, Tels] = useState([]);\n    const [birthDate, BirthDate] = useState(\"\");\n    const [who, Who] = useState(\"\");\n    const [about, About] = useState(\"\");\n    const [telegram, Telegram] = useState(\"\");\n    const [viber, Viber] = useState(\"\");\n    const [whatsapp, Whatsapp] = useState(\"\");\n    const [facebook, Facebook] = useState(\"\");\n    const [twitter, Twitter] = useState(\"\");\n    const [instagram, Instagram] = useState(\"\");\n    const [favorite, Favorite] = useState(false);\n    const [photo, Photo] = useState(\"\");\n    const [loading, Loading] = useState(false);\n\n    const categoriesOpts = categories.map(cat => ({ key: cat._id, value: cat._id, text: cat.name }));\n\n    const RegisterContact = async () => {\n        Loading(true);\n\n        const settings = strip({\n            firstName: first,\n            lastName: last,\n            mainTelephone: {\n                code: mainTelCode,\n                value: mainTelVal\n            },\n            mainEmail,\n            category,\n            emails,\n            telephones: tels,\n            who,\n            about,\n            messangers: {\n                telegram,\n                viber,\n                whatsapp,\n                instagram,\n                twitter,\n                facebook\n            },\n            favorite,\n            photo\n        })[1];\n\n        if (birthDate) {\n            settings.birthDate = new Date(\n                (new Date(birthDate)).getFullYear(),\n                (new Date(birthDate)).getMonth() + 1,\n                (new Date(birthDate)).getDate()\n            );\n        }\n\n        await addContact(settings);\n\n        Loading(false);\n        window.location.reload();\n    };\n\n    return (\n        <Form onSubmit={RegisterContact}>\n            <Form.Group>\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => First(e.target.value)}\n                    placeholder=\"First name\"\n                />\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => Last(e.target.value)}\n                    placeholder=\"Last name\"\n                />\n            </Form.Group>\n            <TelField\n                onChangeCode={e => MainTelCode(e.target.value)}\n                codePlaceholder=\"Main telephone code\"\n                onChangeVal={e => MainTelVal(e.target.value)}\n                valPlaceholder=\"Main telephone value\"\n            />\n            {tels.map((tel, i) => (\n                <TelField\n                    key={i}\n                    onChangeCode={e => tels[i].code = e.target.value}\n                    onChangeVal={e => tels[i].value = e.target.value}\n                    codePlaceholder={\"Tel #\" + (i + 2) + \" code\"}\n                    valPlaceholder={\"Tel #\" + (i + 2) + \" value\"}\n                    valDef={tel.value}\n                    codeDef={tel.code}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={tels.length > 9}\n                onClick={() => tels.length <= 10 ? Tels([...tels, { code: \"\", value: \"\" }]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add telephone\n            </Button>\n            <EmailField\n                onChange={e => MainEmail(e.target.value)}\n                placeholder=\"Main email\"\n            />\n            {emails.map((email, i) => (\n                <EmailField\n                    key={i}\n                    onChange={e => emails[i] = e.target.value}\n                    placeholder={\"Email #\" + (i + 2)}\n                    defaultValue={email}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={emails.length > 9}\n                onClick={() => emails.length <= 10 ? Emails([...emails, \"\"]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add email\n            </Button>\n            <Form.Select options={categoriesOpts} onChange={(e, data) => Category(data.value)} defaultValue={category} />\n            <Form.Input\n                fluid\n                onChange={e => Who(e.target.value)}\n                placeholder=\"Who\"\n            />\n            <Form.TextArea\n                onChange={e => About(e.target.value)}\n                placeholder=\"About\"\n            />\n            <Form.Group style={{ width: \"100%\" }}>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Telegram\"\n                    onChange={e => Telegram(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Viber\"\n                    onChange={e => Viber(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Whatsapp\"\n                    onChange={e => Whatsapp(e.target.value)}\n                />\n            </Form.Group>\n            <Form.Group>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Facebook\"\n                    onChange={e => Facebook(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Twitter\"\n                    onChange={e => Twitter(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Instagram\"\n                    onChange={e => Instagram(e.target.value)}\n                />\n            </Form.Group>\n            <Form.Input\n                fluid\n                type=\"date\"\n                placeholder=\"Birth date\"\n                onChange={(e, data) => BirthDate(data.value)}\n            />\n            <Form.Checkbox \n                label=\"Favorite\"\n                onChange={(e, data) => Favorite(data.checked)}\n                toggle\n            />\n            <FileInput buttonText=\"Choose contact photo\" onChange={val => Photo(val)} setLoading={Loading} />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                size=\"large\"\n                loading={loading}\n                disabled={!(mainTelCode && mainTelVal)}\n            >\n                Add contact\n            </Button>\n        </Form>\n    );\n};\n\nexport default AddContactForm;\n","import React from \"react\";\nimport Logo from \"../../components/Logo\";\nimport { Header, Grid, Segment } from \"semantic-ui-react\";\nimport AddContactForm from \"../../components/AddContactForm\";\n\nconst AddContactPage = ({ categories }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\">\n            <Grid.Column style={{ maxWidth: 500 }}>\n                <Logo noImage />\n                <Header color=\"olive\" size=\"large\">Add contact to your book</Header>\n                <Segment>\n                    <AddContactForm categories={categories} />\n                </Segment>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nexport default AddContactPage;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport { update } from \"../../services/category\";\n\nconst UpdateCategoryForm = ({ defs, id }) => {\n    const [name, Name] = useState(defs.name || \"\");\n    const [about, About] = useState(defs.about || \"\");\n    const [loading, Loading] = useState(false);\n\n    const Update = async () => {\n        if (!name || loading) return;\n        Loading(true);\n        await update(id, { name, about });\n        Loading(false);\n        window.location.reload();\n    }\n\n    return (\n        <Form onSubmit={Update}>\n            <Form.Input\n                fluid\n                icon=\"id card outline\"\n                iconPosition=\"left\"\n                placeholder=\"Name\"\n                onChange={e => Name(e.target.value)}\n                defaultValue={name}\n            />\n            <Form.TextArea\n                fluid=\"true\"\n                placeholder=\"About\"\n                onChange={e => About(e.target.value)}\n                defaultValue={about}\n            />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n                disabled={!name}\n            >\n                Update category\n            </Button>\n        </Form>\n    );\n};\n\nexport default UpdateCategoryForm;\n","import React from \"react\";\nimport { Segment, Grid, Header, Statistic, Button, Modal } from \"semantic-ui-react\";\nimport UpdateCategoryForm from \"../../components/UpdateCategoryForm\";\nimport { connect } from \"react-redux\"\nimport { deleteCategory } from \"../../services/category\";\n\nconst Category = ({ category, user }) => {\n    const Delete = async () => {\n        if (category.contactsCount !== 0) {\n            return alert(\n                \"Change category from \" +\n                category.name +\n                \" to another in \" +\n                category.contactsCount +\n                \" contact\" +\n                (category.contactsCount !== 1 ? \"s\" : \"\") +\n                \" and then try again. Good luck!\\nPRO TIP: use filter\"\n            );\n        }\n\n        await deleteCategory(category._id);\n        window.location.reload();\n    };\n\n    return (\n        <Segment>\n            <Grid columns=\"4\" textAlign=\"center\" verticalAlign=\"middle\">\n                <Grid.Column>\n                    <Header>{category.name}</Header>\n                </Grid.Column>\n                <Grid.Column>\n                    <Statistic\n                        size=\"tiny\"\n                        value={category.contactsCount}\n                        label={\"contact\" + (category.contactsCount !== 1 ? \"s\" : \"\")}\n                    />\n                </Grid.Column>\n                <Grid.Column>\n                    {category.about}\n                </Grid.Column>\n                {user._id === category.user ? (\n                    <Grid.Column>\n                        <Button.Group>\n                            <Modal openOnTriggerClick closeIcon trigger={<Button icon=\"refresh\" color=\"yellow\" />}>\n                                <Modal.Header>Update {category.name} category</Modal.Header>\n                                <Modal.Content>\n                                    <UpdateCategoryForm defs={category} id={category._id} />\n                                </Modal.Content>\n                            </Modal>\n                            <Modal openOnTriggerClick closeIcon trigger={<Button icon=\"trash\" negative />}>\n                                <Modal.Header>Are you sure?</Modal.Header>\n                                <Modal.Content>\n                                    Are you sure about deleting {category.name} category?\n                                </Modal.Content>\n                                <Modal.Actions>\n                                    <Button negative onClick={Delete}>Yes</Button>\n                                </Modal.Actions>\n                            </Modal>\n                        </Button.Group>\n                    </Grid.Column>\n                ) : \"\"}\n            </Grid>\n        </Segment>\n    );\n};\n\nconst mapStateToProps = state => ({\n    user: state.profile.profile\n});\n\nexport default connect(mapStateToProps)(Category);\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport { add } from \"../../services/category\";\nimport strip from \"../../stripEmpty.util\";\n\nconst AddCategoryForm = () => {\n    const [name, Name] = useState(\"\");\n    const [nameValid, NameValid] = useState(true);\n    const [about, About] = useState(\"\");\n    const [loading, Loading] = useState(false);\n\n    const setName = val => {\n        NameValid(true);\n        Name(val);\n    };\n\n    const Add = async () => {\n        if (!name || !nameValid || loading) return;\n        Loading(true);\n        await add(strip({ name, about })[1]);\n        Loading(false);\n        window.location.reload();\n    }\n\n    return (\n        <Form onSubmit={Add}>\n            <Form.Input\n                fluid\n                icon=\"id card outline\"\n                iconPosition=\"left\"\n                placeholder=\"Name\"\n                onChange={e => setName(e.target.value)}\n                onBlur={() => NameValid(Boolean(name))}\n                error={!nameValid}\n            />\n            <Form.TextArea\n                fluid=\"true\"\n                placeholder=\"About\"\n                onChange={e => About(e.target.value)}\n            />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n            >\n                Add category\n            </Button>\n        </Form>\n    );\n};\n\nexport default AddCategoryForm;\n","import React from \"react\";\nimport Category from \"../Category\";\nimport AddCategoryForm from \"../../components/AddCategoryForm\";\n\nconst CategoriesPage = ({ categories }) => {\n    return (\n        <>\n            {categories.map(cat => <Category category={cat} key={cat._id} />)}\n            <AddCategoryForm />\n        </>\n    );\n};\n\nexport default CategoriesPage;\n","import React from \"react\";\nimport { Segment, List, Header } from \"semantic-ui-react\";\nimport { getBirthdays } from \"../../services/contact\";\n\nclass BirthdaysPage extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            requested: false,\n            birthdays: []\n        };\n    }\n\n    componentDidMount() {\n        if (!this.state.requested) {\n            getBirthdays().then(birthdays => this.setState({ requested: true, birthdays }));\n        }\n    }\n\n    render() {\n        if (this.state.requested) {\n            const getContactName = contact => {\n                if (contact.firstName || contact.lastName) {\n                    return (contact.firstName || \"\") + \" \" + (contact.lastName || \"\");\n                } else {\n                    return contact.mainTelephone.code + contact.mainTelephone.value;\n                }\n            };\n\n            return (\n                <Segment textAlign=\"center\" style={{\n                    backgroundBlendMode: \"overlay\",\n                    backgroundImage: \"url('https://i.pinimg.com/474x/7a/bb/e0/7abbe0f43c47ba3340053bd825251995--neon-lights-party-glow-party.jpg')\",backgroundColor: \"#000B\"\n                }}>\n                    <Header size=\"large\" color=\"olive\">Coming birthdays</Header>\n                    <List>\n                        {this.state.birthdays.length > 0 ? this.state.birthdays.map(contact => (\n                            <List.Item key={contact._id}>\n                                <Header size=\"small\" color=\"green\">\n                                    {getContactName(contact)}\n                                    <Header.Subheader style={{ color: \"yellow\" }}>{contact.birthdayStr}</Header.Subheader>\n                                </Header>\n                            </List.Item>\n                        )) : <Header size=\"medium\">No birthdays</Header>}\n                    </List>\n                </Segment>\n            );\n        } else {\n            return \"\";\n        }\n    }\n}\n\nexport default BirthdaysPage;\n","import React, { createRef } from \"react\";\nimport { Form, Segment, Select, Button, Modal, Grid } from \"semantic-ui-react\";\nimport { get } from \"../../services/category\";\nimport Spinner from \"../../components/Spinner\";\nimport querystring from \"querystring\";\nimport AddContactPage from \"../AddContactPage\";\nimport CategoriesPage from \"../CategoriesPage\";\nimport BirthdaysPage from \"../BirthdaysPage\";\n\nclass Sidebar extends React.Component {\n    constructor({ filterDefs }) {\n        super();\n        this.state = { requested: false, categories: null };\n        this.newFilter = filterDefs || {};\n        this.addContactTrigger = createRef();\n    }\n\n    componentDidMount() {\n        if (!this.state.requested) {\n            get().then(categories => this.setState({ requested: true, categories }));\n        }\n    }\n\n    toTop() {\n        const interval = setInterval(() => {\n            if (window.scrollY <= 10) {\n                clearInterval(interval);\n            }\n\n            window.scrollBy(0, -20);\n        }, 10);\n    }\n\n    render() {\n        if (!this.state.requested) return <Spinner />\n\n        const { categories } = this.state;\n\n        const categoriesOptions = [\n            { key: \"\", value: \"\", text: \"-\" },\n            ...categories.map(category => ({\n                key: category.name,\n                value: category.name,\n                text: category.name\n            }))\n        ];\n\n        return (\n            <Grid columns=\"2\">\n                <Grid.Column>\n                    <Segment style={{ maxWidth: 300, backgroundColor: \"black\" }}>\n                        <Form onSubmit={() => \n                                window.location.href = window.location.origin +\n                                \"?\" +\n                                querystring.stringify(this.newFilter)}>\n                            <Form.Input\n                                fluid\n                                icon=\"users\"\n                                iconPosition=\"left\"\n                                placeholder=\"First name\"\n                                onChange={e => this.newFilter.firstName = e.target.value}\n                                defaultValue={this.newFilter.firstName || \"\"}\n                            />\n                            <Form.Input\n                                fluid\n                                icon=\"users\"\n                                iconPosition=\"left\"\n                                placeholder=\"Last name\"\n                                onChange={e => this.newFilter.lastName = e.target.value}\n                                defaultValue={this.newFilter.lastName || \"\"}\n                            />\n                            <Form.Input\n                                fluid\n                                icon=\"at\"\n                                iconPosition=\"left\"\n                                placeholder=\"Email\"\n                                onChange={e => this.newFilter.mainEmail = e.target.value}\n                                defaultValue={this.newFilter.mainEmail || \"\"}\n                            />\n                            <Select\n                                fluid\n                                placeholder=\"Select category\"\n                                options={categoriesOptions}\n                                onChange={(e, data) => this.newFilter.category = data.value}\n                                style={{ marginBottom: 10 }}\n                                defaultValue={this.newFilter.category || null}\n                            />\n                            <Button.Group fluid size=\"large\">\n                                <Button\n                                    primary\n                                    type=\"submit\"\n                                >\n                                    Filter contacts\n                                </Button>\n                                <Button.Or />\n                                <Button\n                                    secondary\n                                    inverted\n                                    onClick={() => {\n                                        this.newFilter = {};\n                                        window.location.href = \"/\";\n                                    }}\n                                >\n                                    Reset filter\n                                </Button>\n                            </Button.Group>\n                        </Form>\n                    </Segment>\n                    <Button.Group>\n                        <Button\n                            icon=\"angle up\"\n                            positive\n                            onClick={this.toTop}\n                        />\n                        <Button.Or />\n                        <Modal openOnTriggerClick closeIcon trigger={<Button primary>Add contact</Button>}>\n                            <Modal.Header>\n                                Add contact\n                            </Modal.Header>\n                            <Modal.Content>\n                                <AddContactPage categories={categories} />\n                            </Modal.Content>\n                        </Modal>\n                        <Button.Or />\n                        <Modal openOnTriggerClick closeIcon trigger={<Button secondary>View categories</Button>}>\n                            <Modal.Header>\n                                All categories\n                            </Modal.Header>\n                            <Modal.Content>\n                                <CategoriesPage categories={categories} />\n                            </Modal.Content>\n                        </Modal>\n                    </Button.Group>\n                </Grid.Column>\n                <Grid.Column>\n                    <BirthdaysPage />\n                </Grid.Column>\n            </Grid>\n        );\n    }\n}\n\nexport default Sidebar;\n","import React from \"react\";\nimport { Grid, Sticky, Segment, Header } from \"semantic-ui-react\";\nimport Contact from \"../../components/Contact\";\nimport { setExpandedContact } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\nimport Sidebar from \"../Sidebar\";\n\nconst Contacts = ({ contacts, onContactClick, filterDefs }) => {\n    return (\n        <Grid columns=\"2\">\n            <Grid.Column>\n                {contacts.length > 0\n                    ? <>{contacts.map(contact => <Contact key={contact._id} contact={contact} onClick={onContactClick}/>)}</>\n                    : (\n                        <Segment>\n                            <Header size=\"huge\" textAlign=\"center\">Oops! No contacts found!</Header>\n                        </Segment>\n                    )}\n            </Grid.Column>\n            <Grid.Column stretched>\n                <Sticky offset={50}>\n                    <Sidebar filterDefs={filterDefs} />\n                </Sticky>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    onContactClick: contact => () => dispatch(setExpandedContact(contact))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Contacts);\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport FileInput from \"../FileInput\";\nimport EmailField from \"../AddContactForm/EmailField\";\nimport TelField from \"../AddContactForm/TelField\";\nimport { updateContact } from \"../../services/contact\";\n\nconst UpdateContactForm = ({ categories, id, defs }) => {\n    defs.birthDate && (defs.birthDate = new Date(defs.birthDate));\n    const [first, First] = useState(defs.firstName || \"\");\n    const [last, Last] = useState(defs.lastName || \"\");\n    const [mainTelCode, MainTelCode] = useState(defs.mainTelephone ? (defs.mainTelephone.code || \"\") : \"\");\n    const [mainTelVal, MainTelVal] = useState(defs.mainTelephone ? (defs.mainTelephone.value || \"\") : \"\");\n    const [mainEmail, MainEmail] = useState(defs.mainEmail || \"\");\n    const [category, Category] = useState(defs.category._id || categories[0]._id);\n    const [emails, Emails] = useState(defs.emails || []);\n    const [tels, Tels] = useState(defs.telephones ? (defs.telephones.map(tel => ({ code: tel.code, value: tel.value }))) : []);\n    const __fmt__ = date => date >= 10 ? date : \"0\" + String(date);\n    const __fmt_Y__ = date => date >= 999 ? date : \"0\".repeat(4 - date.length) + String(date);\n    const [birthDate, BirthDate] = useState(defs.birthDate || \"\");\n    const [who, Who] = useState(defs.who || \"\");\n    const [about, About] = useState(defs.about || \"\");\n    const [telegram, Telegram] = useState(defs.messangers ? (defs.messangers.telegram || \"\") : \"\");\n    const [viber, Viber] = useState(defs.messangers ? (defs.messangers.viber || \"\") : \"\");\n    const [whatsapp, Whatsapp] = useState(defs.messangers ? (defs.messangers.whatsapp || \"\") : \"\");\n    const [facebook, Facebook] = useState(defs.messangers ? (defs.messangers.facebook || \"\") : \"\");\n    const [twitter, Twitter] = useState(defs.messangers ? (defs.messangers.twitter || \"\") : \"\");\n    const [instagram, Instagram] = useState(defs.messangers ? (defs.messangers.instagram || \"\") : \"\");\n    const [favorite, Favorite] = useState(defs.favorite || false);\n    const [photo, Photo] = useState(defs.photo ? (defs.photo._id || \"\") : \"\");\n    const [loading, Loading] = useState(false);\n\n    const categoriesOpts = categories.map(cat => ({ key: cat._id, value: cat._id, text: cat.name }));\n\n    const UpdateContact = async () => {\n        Loading(true);\n\n        const settings = {\n            firstName: first,\n            lastName: last,\n            mainTelephone: {\n                code: mainTelCode,\n                value: mainTelVal\n            },\n            mainEmail,\n            category: category,\n            emails,\n            telephones: tels,\n            ...(birthDate ? { \n                birthDate: new Date(\n                    (new Date(birthDate)).getFullYear(),\n                    (new Date(birthDate)).getMonth() + 1,\n                    (new Date(birthDate)).getDate()\n                )\n            } : {}),\n            who,\n            about,\n            messangers: {\n                telegram,\n                viber,\n                whatsapp,\n                instagram,\n                twitter,\n                facebook\n            },\n            favorite\n        };\n\n        settings.photo = photo || \"\";\n\n        await updateContact(id, settings);\n\n        Loading(false);\n        window.location.reload();\n    };\n\n    return (\n        <Form onSubmit={UpdateContact}>\n            <Form.Group>\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => First(e.target.value)}\n                    placeholder=\"First name\"\n                    defaultValue={first}\n                />\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => Last(e.target.value)}\n                    placeholder=\"Last name\"\n                    defaultValue={last}\n                />\n            </Form.Group>\n            <TelField\n                onChangeCode={e => MainTelCode(e.target.value)}\n                codePlaceholder=\"Main telephone code\"\n                onChangeVal={e => MainTelVal(e.target.value)}\n                valPlaceholder=\"Main telephone value\"\n                valDef={mainTelVal}\n                codeDef={mainTelCode}\n            />\n            {tels.map((tel, i) => (\n                <TelField\n                    key={i}\n                    onChangeCode={e => tels[i].code = e.target.value}\n                    onChangeVal={e => tels[i].value = e.target.value}\n                    codePlaceholder={\"Tel #\" + (i + 2) + \" code\"}\n                    valPlaceholder={\"Tel #\" + (i + 2) + \" value\"}\n                    valDef={tel.value}\n                    codeDef={tel.code}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={tels.length > 9}\n                onClick={() => tels.length <= 10 ? Tels([...tels, { code: \"\", value: \"\" }]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add telephone\n            </Button>\n            <EmailField\n                onChange={e => MainEmail(e.target.value)}\n                placeholder=\"Main email\"\n                defaultValue={mainEmail}\n            />\n            {emails.map((email, i) => (\n                <EmailField\n                    key={i}\n                    onChange={e => emails[i] = e.target.value}\n                    placeholder={\"Email #\" + (i + 2)}\n                    defaultValue={email}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={emails.length > 9}\n                onClick={() => emails.length <= 10 ? Emails([...emails, \"\"]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add email\n            </Button>\n            <Form.Select options={categoriesOpts} onChange={(e, data) => Category(data.value)} defaultValue={category} />\n            <Form.Input\n                fluid\n                onChange={e => Who(e.target.value)}\n                placeholder=\"Who\"\n                defaultValue={who}\n            />\n            <Form.TextArea\n                onChange={e => About(e.target.value)}\n                placeholder=\"About\"\n                defaultValue={about}\n            />\n            <Form.Group style={{ width: \"100%\" }}>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Telegram\"\n                    onChange={e => Telegram(e.target.value)}\n                    defaultValue={telegram}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Viber\"\n                    onChange={e => Viber(e.target.value)}\n                    defaultValue={viber}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Whatsapp\"\n                    onChange={e => Whatsapp(e.target.value)}\n                    defaultValue={whatsapp}\n                />\n            </Form.Group>\n            <Form.Group>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Facebook\"\n                    onChange={e => Facebook(e.target.value)}\n                    defaultValue={facebook}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Twitter\"\n                    onChange={e => Twitter(e.target.value)}\n                    defaultValue={twitter}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Instagram\"\n                    onChange={e => Instagram(e.target.value)}\n                    defaultValue={instagram}\n                />\n            </Form.Group>\n            <Form.Input\n                fluid\n                type=\"date\"\n                placeholder=\"Birth date\"\n                onChange={(e, data) => BirthDate(data.value)}\n                defaultValue={defs.birthDate ? (\n                    __fmt_Y__(defs.birthDate.getFullYear()) + \"-\" +\n                    __fmt__(defs.birthDate.getMonth()) + \"-\" +\n                    __fmt__(defs.birthDate.getDate())\n                ) : \"\"}\n            />\n            <Form.Checkbox \n                label=\"Favorite\"\n                onChange={(e, data) => Favorite(data.checked)}\n                checked={favorite}\n                toggle\n            />\n            <FileInput\n                buttonText=\"Choose new contact photo\"\n                onChange={val => Photo(val)}\n                setLoading={Loading}\n                startUploaded\n            />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                size=\"large\"\n                loading={loading}\n                disabled={!(mainTelCode && mainTelVal)}\n            >\n                Update contact\n            </Button>\n        </Form>\n    );\n};\n\nexport default UpdateContactForm;\n","import React from \"react\";\nimport Logo from \"../../components/Logo\";\nimport { Header, Grid, Segment } from \"semantic-ui-react\";\nimport UpdateContactForm from \"../../components/UpdateContactForm\";\n\nconst UpdateContactPage = ({ categories, id, defs }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\">\n            <Grid.Column style={{ maxWidth: 500 }}>\n                <Logo noImage />\n                <Header color=\"olive\" size=\"large\">Update contact in your book</Header>\n                <Segment>\n                    <UpdateContactForm categories={categories} id={id} defs={defs} />\n                </Segment>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nexport default UpdateContactPage;\n","import React, { useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { setExpandedContact } from \"../../redux/actions\";\nimport { Modal, Grid, Label, Button, Image } from \"semantic-ui-react\";\nimport { get as getCategories } from \"../../services/category\";\nimport UpdateContactPage from \"../UpdateContactPage\";\nimport { deleteContact } from \"../../services/contact\";\n\nconst ExpandedContact = ({ contact, Close }) => {\n    const categories = useRef();\n    const requested = useRef();\n\n    useEffect(() => {\n        (async () => {\n            if (!requested.current) {\n                categories.current = await getCategories();\n                requested.current = true;\n            }\n        })();\n    });\n\n    if (!contact) return \"\";\n\n    return (\n        <Modal onClose={Close} dimmer=\"blurring\" centered={false} open closeIcon>\n            <Modal.Header>\n                {(contact.firstName || \"\") + \" \" + (contact.lastName || \"\") + ((contact.who && (\" - \" + contact.who)) || \"\")}\n            </Modal.Header>\n            <Modal.Content>\n                <Grid columns=\"4\">\n                    <Grid.Column>\n                        {contact.mainEmail ? (\n                            <p>\n                                Email:\n                                <a href={\"mailto:\" + contact.mainEmail}>{\" \" + contact.mainEmail}</a>\n                            </p>\n                        ) : \"\"}\n                        \n                        {contact.mainTelephone ? (\n                            <p>\n                                Telephone:\n                                <a href={\"tel:\" + contact.mainTelephone.code + contact.mainTelephone.value}>\n                                    {\" \" + contact.mainTelephone.code + contact.mainTelephone.value}\n                                </a>\n                            </p>\n                        ) : \"\"}\n\n                        {contact.favorite ? <Label color=\"yellow\">Favorite</Label> : \"\"}\n                        <Label color=\"green\">{contact.category.name}</Label>\n                    </Grid.Column>\n                    <Grid.Column>\n                        {contact.telephones && contact.telephones.map((telephone, i) => \n                            <p key={i}>\n                                <a href={\"tel:\" + telephone.code + telephone.value}>\n                                    {telephone.code + telephone.value}\n                                </a>\n                            </p>)}\n                    </Grid.Column>\n                    <Grid.Column>\n                        {contact.emails && contact.emails.map((email, i) => \n                            <p key={i}>\n                                <a href={\"mailto:\" + email}>\n                                    {email}\n                                </a>\n                            </p>)}\n                    </Grid.Column>\n                    <Grid.Column>\n                        {contact.messangers ? (\n                            <>\n                                {contact.messangers.telegram ? <div>Telegram: {contact.messangers.telegram}</div> : \"\"}\n                                {contact.messangers.viber ? <div>Viber: {contact.messangers.viber}</div> : \"\"}\n                                {contact.messangers.whatsapp ? <div>Whatsapp: {contact.messangers.whatsapp}</div> : \"\"}\n                                {contact.messangers.facebook ? <div>Facebook: {contact.messangers.facebook}</div> : \"\"}\n                                {contact.messangers.instagram ? <div>Instagram: {contact.messangers.instagram}</div> : \"\"}\n                                {contact.messangers.twitter ? <div>Twitter: {contact.messangers.twitter}</div> : \"\"}\n                            </>\n                        ) : \"\"}\n                    </Grid.Column>\n                </Grid>\n                <div style={{ whiteSpace: \"pre-wrap\", margin: 10 }}>{contact.about}</div>\n                <Image circular centered size=\"small\" src={contact.photo.url} alt=\"Photo\" />\n            </Modal.Content>\n            <Modal.Actions>\n                <Button.Group>\n                    <Button positive compact onClick={Close}>Close</Button>\n                    {requested.current ? (\n                        <Modal openOnTriggerClick closeIcon trigger={<Button color=\"yellow\" compact>Update</Button>}>\n                            <Modal.Header>Update contact</Modal.Header>\n                            <Modal.Content>\n                                <UpdateContactPage id={contact._id} categories={categories.current} defs={contact} />\n                            </Modal.Content>\n                        </Modal>\n                    ) : \"\"}\n                    <Modal openOnTriggerClick closeIcon trigger={<Button negative icon=\"trash\" compact />}>\n                        <Modal.Header>Are you sure?</Modal.Header>\n                        <Modal.Content>\n                            Are you sure want to delete this contact?\n                        </Modal.Content>\n                        <Modal.Actions>\n                            <Button negative onClick={async () => {\n                                await deleteContact(contact._id);\n                                window.location.reload();\n                            }}>\n                                Yes\n                            </Button>\n                        </Modal.Actions>\n                    </Modal>\n                </Button.Group>\n            </Modal.Actions>\n        </Modal>\n    );\n};\n\nconst mapStateToProps = state => ({\n    contact: state.contacts.expanded\n});\n\nconst mapDispatchToProps = dispatch => ({\n    Close: () => dispatch(setExpandedContact(null))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExpandedContact);\n","import React from \"react\";\nimport SiteHeader from \"../SiteHeader\";\nimport { getContacts } from \"../../services/contact\";\nimport Contacts from \"../Contacts\";\nimport ExpandedContact from \"../ExpandedContact\";\nimport querystring from \"querystring\";\n\nclass MainPage extends React.Component {\n    constructor() {\n        super();\n        this.state = { requested: false, contacts: [] };\n    }\n\n    componentDidMount() {\n        if (!this.state.requested) {\n            getContacts()\n                .then(contacts => this.setState({ requested: true, contacts }));\n        }\n    }\n\n    render() {\n        document.title = \"Contact Book\";\n        let contacts;\n        const query = this.props.location.search;\n        const filter = querystring.parse(query.slice(1, query.length));\n\n        if (filter) {\n            const {\n                firstName: first = \"\",\n                lastName: last = \"\",\n                mainEmail: email = \"\",\n                category: cat = \"\"\n            } = filter;\n\n            contacts = this.state.contacts\n                .filter(c => first ? c.firstName.toLowerCase().includes(first.toLowerCase()) : true)\n                .filter(c => last ? c.lastName.toLowerCase().includes(last.toLowerCase()) : true)\n                .filter(c => email ? c.mainEmail.toLowerCase().includes(email.toLowerCase()) : true)\n                .filter(c => cat ? c.category.name.toLowerCase().includes(cat.toLowerCase()) : true);\n        } else {\n            contacts = this.state.contacts;\n        }\n\n        return (\n            <>\n                <SiteHeader />\n                <Contacts contacts={contacts} filterDefs={filter} />\n                <ExpandedContact />\n            </>\n        );\n    }\n}\n\nexport default MainPage;\n","import React from \"react\";\nimport { Route } from \"react-router\";\n\nconst PrivateRoute = ({ authorized, component: Component, ...rest }) => {\n    const Redirect = () => {\n        return (\n            <>\n                {window.location.href = \"/login\"}\n            </>\n        );\n    }\n\n    if (authorized) {\n        return <Route component={Component} {...rest} />\n    } else {\n        return <Route component={Redirect} />\n    }\n};\n\nexport default PrivateRoute;\n","import React, { useState } from \"react\";\nimport { Form, Button, Label } from \"semantic-ui-react\";\nimport validator from \"validator\";\nimport FileInput from \"../FileInput\";\n\nconst RegisterForm = ({ register, set }) => {\n    const [firstName, FirstName] = useState(\"\");\n    const [lastName, LastName] = useState(\"\");\n    const [email, Email] = useState(\"\");\n    const [password, Password] = useState(\"\");\n    const [image, Image] = useState(null);\n    const [emailValid, EmailValid] = useState(true);\n    const [passwordValid, PasswordValid] = useState(true);\n    const [loading, Loading] = useState(false);\n\n    const Register = async () => {\n        const valid = emailValid && passwordValid;\n        const fields = email && password;\n        if (!valid || !fields || loading) return;\n        Loading(true);\n        const firstNameO = firstName ? { firstName } : {};\n        const lastNameO = lastName ? { lastName } : {};\n        const imageO = image ? { photo: image } : {};\n        const result = await register({ email, password, ...lastNameO, ...firstNameO, ...imageO });\n        Loading(false);\n\n        if (result.message) {\n            alert(result.message);\n        } else if (result.user) {\n            localStorage.setItem(\"user\", JSON.stringify(result.user));\n            localStorage.setItem(\"token\", JSON.stringify(result.token));\n            set(result.user);\n            window.location.href = \"/\";\n        }\n    };\n\n    const setEmail = val => {\n        Email(val);\n        EmailValid(true);\n    };\n\n    const setPassword = val => {\n        Password(val);\n        PasswordValid(true);\n    }\n\n    document.title = \"Contact Book | Sign up\";\n\n    return (\n        <Form onSubmit={Register}>\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"First name\"\n                onChange={e => FirstName(e.target.value)}\n            />\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"Last name\"\n                onChange={e => LastName(e.target.value)}\n            />\n            <Form.Input\n                icon=\"at\"\n                type=\"email\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                error={!emailValid}\n                fluid\n                onChange={e => setEmail(e.target.value)}\n                onBlur={() => EmailValid(validator.isEmail(email))}\n            />\n            <Label style={{ marginBottom: 10 }} color={password.length >= 6 ? \"green\" : \"grey\"}>\n                Password must be at least 6 characters long\n            </Label>\n            <Form.Input\n                icon=\"lock\"\n                type=\"password\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                error={!passwordValid}\n                fluid\n                onChange={e => setPassword(e.target.value)}\n                onBlur={() => PasswordValid(Boolean(password && password.length >= 6))}\n            />\n            <FileInput buttonText=\"Choose profile photo\" onChange={id => Image(id)} setLoading={Loading} />\n            <div style={{ marginBottom: 10 }}>Don't worry, if your image does not load. Just wait for a several minutes</div>\n            <Button\n                color=\"teal\"\n                size=\"large\"\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n                disabled={!Boolean(password && email && emailValid) || !(password.length >= 6)}\n            >\n                Sign up\n            </Button>\n        </Form>\n    );\n};\n\nexport default RegisterForm;\n","import React from \"react\";\nimport { Grid, Segment, Header, Message, Button } from \"semantic-ui-react\";\nimport { register } from \"../../services/user\";\nimport RegisterForm from \"../../components/RegisterForm\";\nimport { connect } from \"react-redux\";\nimport { setProfile } from \"../../redux/actions\";\nimport Logo from \"../../components/Logo\";\n\nconst RegisterPage = ({ setProfile }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Logo />\n                <Header as=\"h2\" color=\"olive\">Sign up to Contact Book</Header>\n                <Segment>\n                    <RegisterForm register={register} set={setProfile} />\n                </Segment>\n                <Message>\n                    <Message.Header>Already with us?</Message.Header>\n                    <Message.Content>\n                        <Button\n                            onClick={() => window.location.href = \"/login\"}\n                            compact\n                            size=\"small\"\n                            color=\"teal\"\n                            style={{ marginTop: 10 }}\n                        >\n                            Log in\n                        </Button>\n                    </Message.Content>\n                </Message>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    setProfile: user => dispatch(setProfile(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterPage);\n","import React, { useState } from \"react\";\nimport { Form, Button, Message } from \"semantic-ui-react\";\nimport validator from \"validator\";\nimport FileInput from \"../FileInput\";\n\nconst UpdateProfileForm = ({ update, set, defs }) => {\n    const [firstName, FirstName] = useState(defs.firstName || \"\");\n    const [lastName, LastName] = useState(defs.lastName || \"\");\n    const [email, Email] = useState(defs.email || \"\");\n    const [password, Password] = useState(null);\n    const [image, Image] = useState(defs.photo ? (defs.photo._id || \"\") : \"\");\n    const [emailValid, EmailValid] = useState(true);\n    const [passwordValid, PasswordValid] = useState(false);\n    const [loading, Loading] = useState(false);\n    const [errorMessage, ErrorMessage] = useState(\"\");\n\n    const Update = async () => {\n        const valid = emailValid && passwordValid;\n        if (!valid || !email || !password || loading) return;\n        Loading(true);\n        const result = await update({ email, password, lastName, firstName, photo: image || \"\" });\n        Loading(false);\n\n        if (result.message) {\n            ErrorMessage(result.message);\n        } else if (result.user) {\n            localStorage.setItem(\"user\", JSON.stringify(result.user));\n            localStorage.setItem(\"token\", JSON.stringify(result.token));\n            set(result.user);\n            window.location.href = \"/\";\n        }\n    };\n\n    const setEmail = val => {\n        Email(val);\n        EmailValid(true);\n    };\n\n    const setPassword = val => {\n        Password(val);\n        PasswordValid(true);\n    }\n\n    document.title = \"Contact Book | Update profile\";\n\n    return (\n        <Form onSubmit={Update}>\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"First name\"\n                onChange={e => FirstName(e.target.value)}\n                defaultValue={firstName}\n            />\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"Last name\"\n                onChange={e => LastName(e.target.value)}\n                defaultValue={lastName}\n            />\n            <Form.Input\n                icon=\"at\"\n                type=\"email\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                error={!emailValid}\n                fluid\n                onChange={e => setEmail(e.target.value)}\n                onBlur={() => EmailValid(validator.isEmail(email))}\n                defaultValue={email}\n            />\n            <Form.Input\n                icon=\"lock\"\n                type=\"password\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                error={!passwordValid}\n                fluid\n                onChange={e => setPassword(e.target.value)}\n                onBlur={() => PasswordValid(Boolean(password && password.length >= 6))}\n                defaultValue={password}\n            />\n            <FileInput buttonText=\"Choose profile photo\" onChange={id => Image(id)} setLoading={Loading} startUploaded />\n            <Button.Group fluid>\n                <Button\n                    color=\"teal\"\n                    size=\"large\"\n                    primary\n                    type=\"submit\"\n                    loading={loading}\n                    disabled={!Boolean(email && password && emailValid) || !(password ? password.length >= 6 : true)}\n                >\n                    Update my profile\n                </Button>\n                <Button\n                    color=\"teal\"\n                    size=\"large\"\n                    secondary\n                    type=\"button\"\n                    onClick={() => window.location.href = \"/\"}\n                >\n                    Cancel\n                </Button>\n            </Button.Group>\n            {errorMessage ? (\n                <Message negative style={{ display: \"block\" }}>\n                    <Message.Header>Error!</Message.Header>\n                    <Message.Content>\n                        {errorMessage}\n                    </Message.Content>\n                </Message>\n            ) : \"\"}\n        </Form>\n    );\n};\n\nexport default UpdateProfileForm;\n","import React from \"react\";\nimport { Grid, Segment, Header } from \"semantic-ui-react\";\nimport { update } from \"../../services/user\";\nimport UpdateProfileForm from \"../../components/UpdateProfileForm\";\nimport { connect } from \"react-redux\";\nimport { setProfile } from \"../../redux/actions\";\nimport Logo from \"../../components/Logo\";\n\nconst UpdateProfilePage = ({ setProfile, defs }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Logo />\n                <Header as=\"h2\" color=\"olive\">Update your Contact Book profile</Header>\n                <Segment>\n                    <UpdateProfileForm update={update} set={setProfile} defs={defs} />\n                </Segment>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = state => ({\n    defs: state.profile.profile\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setProfile: user => dispatch(setProfile(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdateProfilePage);\n","import React from \"react\";\nimport { Grid, Header, Button } from \"semantic-ui-react\";\n\nconst NotFound = () => {\n    document.body.style.backgroundColor = \"black\";\n\n    return (\n        <Grid centered columns=\"1\" textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Header color=\"red\" size=\"huge\" textAlign=\"center\" inverted>404 Page not found</Header>\n                <Button\n                    positive\n                    compact\n                    size=\"massive\"\n                    fluid\n                    onClick={() => window.location.href = \"/\"}\n                >\n                    Back, to home\n                </Button>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router\";\nimport { createBrowserHistory } from \"history\";\nimport LoginPage from \"../LoginPage\";\nimport MainPage from \"../MainPage\";\nimport PrivateRoute from \"../PrivateRoute\";\nimport { exists } from \"../../services/user\";\nimport Spinner from \"../../components/Spinner\";\nimport { connect } from \"react-redux\";\nimport RegisterPage from \"../RegisterPage\";\nimport UpdateProfilePage from \"../UpdateProfilePage\";\nimport NotFound from \"../../scenes/NotFound\";\n\nclass Routing extends React.Component {\n    constructor({ user }) {\n        super();\n        this.history = createBrowserHistory();\n        this.user = user;\n\n        this.state = {\n            requested: false,\n            exists: false\n        }\n    }\n\n    componentDidMount() {\n        const userString = localStorage.getItem(\"user\");\n\n        if (userString && this.user.profile) {\n            if (!this.state.requested) {\n                const email = JSON.parse(userString).email;\n                exists(email).then(userExists => this.setState({ requested: true, exists: userExists.exists }));\n            }\n        } else {\n            this.setState({ requested: true, exists: false });\n        }\n    }\n\n    render() {\n        if (!this.state.requested) {\n            return <Spinner />\n        } else {\n            return (\n                <Router history={this.history}>\n                    <Switch>\n                        <Route exact component={LoginPage} path=\"/login\" />\n                        <Route exaxt component={RegisterPage} path=\"/register\" />\n                        <PrivateRoute exact authorized={this.state.exists || false} component={MainPage} path=\"/\" />\n                        <PrivateRoute exact authorized={this.state.exists || false} component={UpdateProfilePage} path=\"/update\" />\n                        <Route path=\"*\" exact component={NotFound} />\n                    </Switch>\n                </Router>\n            );\n        }\n    }\n}\n\nconst mapStateToProps = state => ({\n    user: state.profile\n});\n\nexport default connect(mapStateToProps)(Routing);\n","import { createStore, combineReducers } from \"redux\";\nimport { profile, contacts } from \"./reducers\";\n\nconst reducer = combineReducers({ profile, contacts });\nconst user = localStorage.getItem(\"user\");\n\nconst store = createStore(\n    reducer,\n    {\n        contacts: {\n            expanded: null\n        },\n        profile: {\n            profile: user ? JSON.parse(user) : undefined\n        }\n    }\n);\n\nexport default store;\n","import { SET_PROFILE, SET_EXP_CONTACT } from \"./types\";\n\nexport const profile = (state = {}, action) => {\n    switch (action.type) {\n        case SET_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            };\n        default:\n            return state;\n    }\n};\n\nexport const contacts = (state = {}, action) => {\n    switch (action.type) {\n        case SET_EXP_CONTACT:\n            return {\n                ...state,\n                expanded: action.contact\n            };\n        default:\n            return state;\n    }\n};\n","import React from \"react\";\nimport Routing from \"../../containers/Routing\";\nimport { Provider } from \"react-redux\";\nimport store from \"../../redux/store\";\n\nclass Home extends React.Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <Routing />\n            </Provider>\n        );\n    }\n}\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Home from './scenes/Home';\nimport 'semantic-ui-css/semantic.min.css';\nimport \"./styles/common.scss\";\nimport { PROXY } from \"./config\";\n\nconst prevFetch = window.fetch;\n\nwindow.fetch = async (url, opts) => {\n    let token = localStorage.getItem(\"token\");\n    token = ((token && token.startsWith(\"\\\"\")) ? token.slice(1, -1) : token)\n\n    opts.headers = opts.headers\n        ? { ...opts.headers, \"Authorization\": \"Bearer \" + token }\n        : { \"Authorization\": \"Bearer \" + token };\n\n    return await prevFetch(PROXY + url, opts);\n};\n\nReactDOM.render(\n    <Home />,\n    document.getElementById('root')\n);\n","export const PROXY = \"http://13.58.248.175:3001\";\n"],"sourceRoot":""}