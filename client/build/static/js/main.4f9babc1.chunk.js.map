{"version":3,"sources":["helpers/api.js","services/user.js","components/LoginForm/index.jsx","redux/actions.js","redux/types.js","components/Logo/index.jsx","containers/LoginPage/index.jsx","containers/ProfilePage/index.jsx","containers/SiteHeader/index.jsx","services/contact.js","components/Contact/index.jsx","services/category.js","components/Spinner/index.jsx","services/image.js","components/FileInput/index.jsx","components/AddContactForm/EmailField.jsx","components/AddContactForm/TelField.jsx","stripEmpty.util.js","components/AddContactForm/index.jsx","containers/AddContactPage/index.jsx","components/UpdateCategoryForm/index.jsx","containers/Category/index.jsx","components/AddCategoryForm/index.jsx","containers/CategoriesPage/index.jsx","containers/BirthdaysPage/index.jsx","containers/Sidebar/index.jsx","containers/Contacts/index.jsx","components/UpdateContactForm/index.jsx","containers/UpdateContactPage/index.jsx","components/ShareContact/index.jsx","containers/ExpandedContact/index.jsx","containers/MainPage/index.jsx","containers/PrivateRoute/index.jsx","components/RegisterForm/index.jsx","containers/RegisterPage/index.jsx","components/UpdateProfileForm/index.jsx","containers/UpdateProfilePage/index.jsx","scenes/NotFound/index.jsx","containers/SharedContactPage/index.jsx","containers/Routing/index.jsx","redux/store.js","redux/reducers.js","scenes/Home/index.jsx","index.jsx","config.js"],"names":["request","a","method","url","body","type","fetch","headers","then","res","json","result","login","email","password","JSON","stringify","register","settings","update","logout","profile","LoginForm","set","useState","Email","Password","emailValid","EmailValid","passwordValid","PasswordValid","loading","Loading","LogIn","valid","message","alert","user","localStorage","setItem","window","location","href","Form","onSubmit","Input","icon","iconPosition","placeholder","error","fluid","onChange","e","val","target","value","onBlur","validator","isEmail","Boolean","Button","color","size","primary","disabled","setProfile","setExpandedContact","contact","Logo","noImage","Header","as","style","marginBottom","src","alt","Subheader","connect","dispatch","document","title","Grid","textAlign","verticalAlign","className","Column","maxWidth","Segment","Message","Content","onClick","compact","marginTop","state","columns","firstName","lastName","centered","circular","photo","padding","backgroundColor","Group","clear","reload","Modal","openOnTriggerClick","closeIcon","dimmer","trigger","positive","getContacts","contacts","getContactById","id","addContact","updateContact","data","getBirthdays","Intl","DateTimeFormat","resolvedOptions","timeZone","deleteContact","share","userEmail","console","Contact","favorite","Label","category","name","who","get","categories","add","about","deleteCategory","Spinner","Dimmer","active","inverted","Loader","React","Component","uploadImage","image","FormData","append","FileInput","buttonText","types","setLoading","startUploaded","ref","createRef","imageText","ImageText","avatarUploaded","AvatarUploaded","current","click","Icon","content","negative","display","accept","join","files","_id","rest","Valid","onChangeCode","onChangeVal","valPlaceholder","codePlaceholder","codeDef","valDef","Val","code","Code","width","startsWith","length","defaultValue","test","stripEmpty","Array","isArray","i","undefined","splice","indexOf","Object","entries","key","keys","AddContactForm","first","First","last","Last","mainTelCode","MainTelCode","mainTelVal","MainTelVal","mainEmail","MainEmail","Category","emails","Emails","tels","Tels","birthDate","BirthDate","Who","About","telegram","Telegram","viber","Viber","whatsapp","Whatsapp","facebook","Facebook","twitter","Twitter","instagram","Instagram","Favorite","Photo","categoriesOpts","map","cat","text","RegisterContact","strip","mainTelephone","telephones","messangers","Date","getFullYear","getMonth","getDate","TelField","tel","EmailField","Select","options","TextArea","Checkbox","label","checked","toggle","AddContactPage","UpdateCategoryForm","defs","Name","Update","Delete","contactsCount","Statistic","Actions","AddCategoryForm","nameValid","NameValid","Add","CategoriesPage","BirthdaysPage","requested","birthdays","this","setState","backgroundBlendMode","backgroundImage","List","Item","getContactName","birthdayStr","Sidebar","filterDefs","newFilter","addContactTrigger","interval","setInterval","scrollY","clearInterval","scrollBy","categoriesOptions","origin","querystring","Or","secondary","toTop","onContactClick","stretched","Sticky","offset","UpdateContactForm","birthDateForDelault","date","__fmt__","String","UpdateContact","labelPosition","repeat","UpdateContactPage","ShareContact","Share","link","action","onCopy","NotificationManager","success","Divider","horizontal","expanded","Close","isNew","useRef","useEffect","getCategories","onClose","open","telephone","whiteSpace","margin","MainPage","newExpanded","query","props","search","filter","parse","slice","c","toLowerCase","includes","PrivateRoute","authorized","component","RegisterForm","FirstName","LastName","Image","Register","fields","firstNameO","lastNameO","imageO","UpdateProfileForm","errorMessage","ErrorMessage","NotFound","SharedContactPage","setContact","match","params","Routing","history","createBrowserHistory","userString","getItem","userProfile","exact","LoginPage","path","exaxt","RegisterPage","UpdateProfilePage","reducer","combineReducers","store","createStore","Home","prevFetch","opts","token","process","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4f9babc1.chunk.js","sourcesContent":["export const request = async ({ method, url, body, type = \"application/json\" }) => {\n    const result = await fetch(url, {\n        method,\n        headers: {\n            ...(type ? { \"Content-Type\": type } : {})\n        },\n        ...(body ? { body } : {})\n    }).then(res => res.json());\n\n    return result;\n};","import { request } from \"../helpers/api\";\n\nexport const login = async ({ email, password }) => {\n    const result = await request({\n        method: \"POST\",\n        url: `/api/user/login`,\n        body: JSON.stringify({ email, password })\n    });\n\n    return result;\n};\n\nexport const register = async settings => {\n    const result = await request({\n        method: \"POST\",\n        url: `/api/user/register`,\n        body: JSON.stringify(settings)\n    });\n\n    return result;\n};\n\nexport const update = async settings => {\n    const result = await request({\n        method: \"PUT\",\n        url: `/api/user/update`,\n        body: JSON.stringify(settings)\n    });\n\n    return result;\n};\n\nexport const logout = async () => {\n    const result = await request({\n        method: \"POST\",\n        url: `/api/user/logout`\n    });\n\n    return result;\n};\n\nexport const profile = async email => {\n    const result = await request({\n        method: \"GET\",\n        url: `/api/user/profile?email=${email}`\n    });\n\n    return result;\n};\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport validator from \"validator\";\n\nconst LoginForm = ({ login, set }) => {\n    const [email, Email] = useState(\"\");\n    const [password, Password] = useState(\"\");\n    const [emailValid, EmailValid] = useState(true);\n    const [passwordValid, PasswordValid] = useState(true);\n    const [loading, Loading] = useState(false);\n\n    const LogIn = async () => {\n        const valid = emailValid && passwordValid;\n        if (!email || !password || !valid || loading) return;\n        Loading(true);\n        const result = await login({ email, password });\n        Loading(false);\n\n        if (result.message) {\n            alert(result.message);\n        } else if (result.user) {\n            localStorage.setItem(\"user\", JSON.stringify(result.user));\n            set(result.user);\n            window.location.href = \"/\";\n        }\n    }\n\n    const setEmail = val => {\n        Email(val);\n        EmailValid(true);\n    }\n\n    const setPassword = val => {\n        Password(val);\n        PasswordValid(true);\n    }\n\n    return (\n        <Form onSubmit={LogIn}>\n            <Form.Input\n                icon=\"at\"\n                type=\"email\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                error={!emailValid}\n                fluid\n                onChange={e => setEmail(e.target.value)}\n                onBlur={() => EmailValid(validator.isEmail(email))}\n            />\n            <Form.Input\n                icon=\"lock\"\n                type=\"password\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                error={!passwordValid}\n                fluid\n                onChange={e => setPassword(e.target.value)}\n                onBlur={() => PasswordValid(Boolean(password))}\n            />\n            <Button\n                color=\"teal\"\n                size=\"large\"\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n                disabled={!Boolean(email && password)}\n            >\n                Log in\n            </Button>\n        </Form>\n    );\n};\n\nexport default LoginForm;\n","import { SET_PROFILE, SET_EXP_CONTACT } from \"./types\";\n\nexport const setProfile = profile => ({\n    type: SET_PROFILE,\n    profile\n});\n\nexport const setExpandedContact = contact => ({\n    type: SET_EXP_CONTACT,\n    contact\n});\n","export const SET_PROFILE = \"PROFILE:SET\";\nexport const SET_EXP_CONTACT = \"EXP_CONTACT:SET\";\n","import React from \"react\";\nimport { Header, Image } from \"semantic-ui-react\";\n\nconst Logo = ({ noImage = false }) => {\n    return (\n        <Header as=\"h2\" color=\"teal\" size=\"huge\" style={{ marginBottom: 50 }} >\n            {!noImage ? <Image src=\"http://s1.iconbird.com/ico/2013/7/390/w256h2561372777054AddressBook.png\" alt=\"book\" /> : \"\"}\n            <br />\n            Contact Book\n            <Header.Subheader>\n                A notebook for your contacts\n            </Header.Subheader>\n        </Header>\n    );\n};\n\nexport default Logo;\n","import React from \"react\";\nimport { Grid, Segment, Header, Message, Button } from \"semantic-ui-react\";\nimport { login } from \"../../services/user\";\nimport LoginForm from \"../../components/LoginForm\";\nimport { connect } from \"react-redux\";\nimport { setProfile } from \"../../redux/actions\";\nimport Logo from \"../../components/Logo\";\n\nconst LoginPage = ({ setProfile }) => {\n    document.title = \"Contact Book | Log in\";\n\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Logo />\n                <Header as=\"h2\" color=\"olive\">Log in to your account</Header>\n                <Segment>\n                    <LoginForm login={login} set={setProfile} />\n                </Segment>\n                <Message>\n                    <Message.Header>New to us?</Message.Header>\n                    <Message.Content>\n                        <Button\n                            onClick={() => window.location.href = \"/register\"}\n                            compact\n                            size=\"mini\"\n                            color=\"teal\"\n                            style={{ marginTop: 10 }}\n                        >\n                            Sign up\n                        </Button>\n                    </Message.Content>\n                </Message>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    setProfile: user => dispatch(setProfile(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Image, Header, Segment, Grid } from \"semantic-ui-react\";\n\nconst ProfilePage = ({ user }) => {\n    return (\n        <Segment>\n            <Header textAlign=\"center\" size=\"huge\">Your Contact Book profile info</Header>\n            <Grid columns=\"2\" textAlign=\"center\" verticalAlign=\"middle\">\n                <Grid.Column>\n                    {user.firstName ? <p>First name: {user.firstName}</p> : \"\"}\n                    {user.lastName ? <p>Last name: {user.lastName}</p> : \"\"}\n                </Grid.Column>\n                <Grid.Column>\n                    <p>Email: {user.email}</p>\n                </Grid.Column>\n            </Grid>\n            <Image centered circular src={user.photo.url} alt=\"Profile photo\" />\n        </Segment>\n    );\n};\n\nconst mapStateToProps = state => ({\n    user: state.profile.profile\n});\n\nexport default connect(mapStateToProps)(ProfilePage);\n","import React from \"react\";\nimport { Header, Image, Grid, Button, Modal } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../services/user\";\nimport ProfilePage from \"../ProfilePage\";\n\nconst SiteHeader = ({ user }) => {\n    const getUserText = () => {\n        if (user.firstName && (user.lastName || true)) {\n            return user.firstName + \" \" + (user.lastName || \"\");\n        } else {\n            return user.email;\n        }\n    };\n\n    const LogOut = () => {\n        logout().then(() => {\n            localStorage.clear();\n            window.location.reload();\n        });\n    };\n\n    return (\n        <Grid centered columns=\"2\" style={{ padding: \"1em 0\", backgroundColor: \"white\" }} verticalAlign=\"middle\">\n            <Grid.Column textAlign=\"center\" verticalAlign=\"middle\">\n                <Header>\n                    <Image src={user.photo.url} circular size=\"massive\" alt=\"Profile avatar\" />\n                    {\" \"}\n                    {getUserText()}\n                </Header>\n            </Grid.Column>\n            <Grid.Column textAlign=\"center\" verticalAlign=\"middle\">\n                <Button.Group>\n                    <Button\n                        icon=\"sign out alternate\"\n                        color=\"red\"\n                        size=\"large\"\n                        onClick={LogOut}\n                    />\n                    <Button\n                        icon=\"refresh\"\n                        color=\"yellow\"\n                        size=\"large\"\n                        onClick={() => window.location.href = \"/update\"}\n                    />\n                    <Modal openOnTriggerClick closeIcon dimmer=\"blurring\" trigger={\n                        <Button\n                            icon=\"info\"\n                            positive\n                            size=\"large\"\n                        />\n                    }>\n                        <Modal.Header>Profile</Modal.Header>\n                        <Modal.Content>\n                            <ProfilePage />\n                        </Modal.Content>\n                    </Modal>\n                </Button.Group>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = state => ({\n    user: state.profile.profile\n});\n\nexport default connect(mapStateToProps)(SiteHeader);\n","import { request } from \"../helpers/api\";\n\nexport const getContacts = async () => {\n    const result = await request({\n        url: \"/api/contact\",\n        method: \"GET\"\n    });\n\n    return result.contacts;\n};\n\nexport const getContactById = async id => {\n    const result = await request({\n        url: `/api/contact/${id}`,\n        method: \"GET\"\n    });\n\n    return result.contact;\n};\n\nexport const addContact = async settings => {\n    const result = await request({\n        url: \"/api/contact/register\",\n        method: \"POST\",\n        body: JSON.stringify(settings)\n    });\n\n    return result.contact;\n};\n\nexport const updateContact = async (id, settings) => {\n    const result = await request({\n        url: \"/api/contact/update\",\n        method: \"PUT\",\n        body: JSON.stringify({ id, data: settings })\n    });\n\n    return result.contact;\n};\n\nexport const getBirthdays = async () => {\n    const result = await request({\n        url: \"/api/contact/birthdays?tz=\" + Intl.DateTimeFormat().resolvedOptions().timeZone,\n        method: \"GET\"\n    });\n\n    return result.contacts;\n};\n\nexport const deleteContact = async id => {\n    const result = await request({\n        url: \"/api/contact/delete\",\n        method: \"DELETE\",\n        body: JSON.stringify({ id })\n    });\n\n    return result.contact;\n};\n\nexport const share = async (id, email) => {\n    const result = await request({\n        url: \"/api/contact/share\",\n        method: \"POST\",\n        body: JSON.stringify({ id, userEmail: email })\n    });\n\n    if (result.message) {\n        console.error(result.message);\n    }\n};\n","import React from \"react\";\nimport { Segment, Grid, Image, Label, Header } from \"semantic-ui-react\";\n\nconst Contact = ({ contact, onClick }) => {\n    return (\n        <Segment onClick={onClick(contact)} style={{ backgroundColor: contact.favorite ? \"yellow\" : \"while\" }}>\n            <Grid textAlign=\"center\" verticalAlign=\"middle\" columns=\"3\">\n                <Grid.Column>\n                    <Grid columns=\"2\" verticalAlign=\"middle\">\n                        <Grid.Column>\n                            <Image src={contact.photo.url} alt=\"Contact photo\" circular size=\"tiny\" />\n                        </Grid.Column>\n                        <Grid.Column>\n                            <Header>\n                                {\n                                    (contact.firstName || \"\") +\n                                    \" \" +\n                                    (contact.lastName || \"\")\n                                }\n                            </Header>\n                        </Grid.Column>\n                    </Grid>\n                </Grid.Column>\n                <Grid.Column>\n                    <Label color=\"green\">{contact.category.name}</Label>\n                    {contact.who ? <Label color=\"red\">{contact.who}</Label> : \"\"}\n                </Grid.Column>\n            </Grid>\n        </Segment>\n    );\n};\n\nexport default Contact;\n","import { request } from \"../helpers/api\";\n\nexport const get = async () => {\n    const result = await request({\n        url: \"/api/category\",\n        method: \"GET\"\n    });\n\n    return result.categories;\n};\n\nexport const add = async ({ name, about }) => {\n    const result = await request({\n        url: \"/api/category/register\",\n        method: \"POST\",\n        body: JSON.stringify({ name, about })\n    });\n\n    return result.category;\n};\n\nexport const update = async (id, { name, about }) => {\n    const result = await request({\n        url: \"/api/category/update\",\n        method: \"PUT\",\n        body: JSON.stringify({ id, data: { name, about } })\n    });\n\n    return result.category;\n};\n\nexport const deleteCategory = async id => {\n    const result = await request({\n        url: \"/api/category/delete\",\n        method: \"DELETE\",\n        body: JSON.stringify({ id })\n    });\n\n    return result.category;\n};\n","import React from \"react\";\nimport { Dimmer, Loader } from \"semantic-ui-react\";\n\nclass Spinner extends React.Component {\n    render() {\n        return (\n            <Dimmer active inverted>\n                <Loader size=\"massive\" inverted />\n            </Dimmer>\n        );\n    }\n}\n\nexport default Spinner;\n","import { request } from \"../helpers/api\";\n\nexport const uploadImage = async image => {\n    const data = new FormData();\n    data.append(\"image\", image);\n\n    const result = await request({\n        url: `/api/image/register`,\n        method: \"POST\",\n        type: null,\n        body: data\n    });\n\n    return result.image;\n};\n","import React, { createRef, useState } from \"react\";\nimport { Button, Icon, Label } from \"semantic-ui-react\";\nimport { uploadImage } from \"../../services/image\";\n\nconst FileInput = ({\n    buttonText = \"Choose photo\",\n    types = [\".png\", \".bmp\", \".jpg\", \".jpeg\"],\n    onChange,\n    setLoading,\n    startUploaded = false\n}) => {\n    const ref = createRef();\n    const [imageText, ImageText] = useState(\"No image\");\n    const [avatarUploaded, AvatarUploaded] = useState(startUploaded);\n\n    const upload = e => {\n        if (e.target.files[0]) {\n            setLoading(true);\n\n            uploadImage(e.target.files[0]).then(({ _id }) => {\n                onChange(_id);\n                ImageText(\"Your image is uploaded!\");\n                setLoading(false);\n                AvatarUploaded(true);\n            });\n        } else {\n            onChange(null);\n            ImageText(\"No image\");\n            AvatarUploaded(false);\n        }\n    };\n\n    return (\n        <>\n            <Label color={avatarUploaded ? \"green\" : \"grey\"} style={{ marginBottom: 10 }}>{imageText}</Label>\n            <Button.Group fluid>\n                <Button\n                    color=\"teal\"\n                    size=\"large\"\n                    onClick={() => ref.current.click()}\n                    style={{ marginBottom: 10 }}\n                    type=\"button\"\n                >\n                    <Icon name=\"image\" />\n                    {buttonText}\n                </Button>\n                <Button\n                    content=\"Delete image\"\n                    negative\n                    onClick={() => {\n                        onChange(null);\n                        ImageText(\"No image\");\n                        AvatarUploaded(false);\n                    }}\n                    style={{ marginBottom: 10 }}\n                    type=\"button\"\n                    disabled={!avatarUploaded}\n                />\n            </Button.Group>\n            <input\n                type=\"file\"\n                style={{ display: \"none\" }}\n                ref={ref}\n                accept={types.join(\", \")}\n                onChange={upload}\n            />\n        </>\n    );\n};\n\nexport default FileInput;\n","import React, { useState } from \"react\";\nimport validator from \"validator\";\nimport { Form } from \"semantic-ui-react\"\n\nexport default ({ onChange, ...rest }) => {\n    const [valid, Valid] = useState(true);\n\n    return (\n        <Form.Input \n            type=\"email\"\n            icon=\"at\"\n            iconPosition=\"left\"\n            fluid\n            error={!valid}\n            onChange={e => {\n                onChange(e);\n                Valid(validator.isEmail(e.target.value))\n            }}\n            {...rest}\n        />\n    );\n};\n","import React, { useState } from \"react\";\nimport { Form } from \"semantic-ui-react\"\n\nexport default ({ onChangeCode, onChangeVal, valPlaceholder, codePlaceholder, codeDef = \"\", valDef = \"\" }) => {\n    const [val, Val] = useState(\"\");\n    const [code, Code] = useState(\"\");\n\n    return (\n        <Form.Group>\n            <Form.Input\n                width={7}\n                error={code ? !(code.startsWith(\"+\") && code.length >= 2 && code.length <= 4) : false}\n                onChange={e => {\n                    onChangeCode(e);\n                    Code(e.target.value);\n                }}\n                placeholder={codePlaceholder}\n                defaultValue={codeDef}\n            />\n            <Form.Input\n                width={7}\n                error={val ? !(/^[0-9]{9}$/.test(val)) : false}\n                onChange={e => {\n                    onChangeVal(e);\n                    Val(e.target.value);\n                }}\n                placeholder={valPlaceholder}\n                defaultValue={valDef}\n            />\n        </Form.Group>\n    );\n};\n","export default function stripEmpty(value) {\n    if (Array.isArray(value)) {\n        for (let i = 0; i < value.length; i++) {\n            const val = value[i];\n\n            if (val === \"\" || val === null || val === undefined) {\n                value.splice(value.indexOf(val), 1);\n                i--;\n            } else if (Array.isArray(val) || typeof val === \"object\") {\n                const canDelete = stripEmpty(val);\n\n                if (canDelete[0]) {\n                    if (Array.isArray(value)) {\n                        value.splice(value.indexOf(val), 1);\n                    } else {\n                        delete value[i];\n                    }\n                }\n            }\n        }\n    } else if (typeof value === \"object\" && value !== null) {\n        for (const [key, val] of Object.entries(value)) {\n            if (val === \"\" || val === null || val === undefined) {\n                delete value[key];\n            } else if (Array.isArray(val) || typeof val === \"object\") {\n                const canDelete = stripEmpty(val);\n\n                if (canDelete[0]) {\n                    if (Array.isArray(value)) {\n                        value.splice(value.indexOf(val), 1);\n                    } else {\n                        delete value[key];\n                    }\n                }\n            }\n        }\n    }\n\n    return [value.length ? value.length === 0 : Object.keys(value).length === 0, value];\n}\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport FileInput from \"../FileInput\";\nimport EmailField from \"./EmailField\";\nimport TelField from \"./TelField\";\nimport strip from \"../../stripEmpty.util\";\nimport { addContact } from \"../../services/contact\";\n\nconst AddContactForm = ({ categories }) => {\n    const [first, First] = useState(\"\");\n    const [last, Last] = useState(\"\");\n    const [mainTelCode, MainTelCode] = useState(\"\");\n    const [mainTelVal, MainTelVal] = useState(\"\")\n    const [mainEmail, MainEmail] = useState(\"\");\n    const [category, Category] = useState(categories[0]._id);\n    const [emails, Emails] = useState([]);\n    const [tels, Tels] = useState([]);\n    const [birthDate, BirthDate] = useState(\"\");\n    const [who, Who] = useState(\"\");\n    const [about, About] = useState(\"\");\n    const [telegram, Telegram] = useState(\"\");\n    const [viber, Viber] = useState(\"\");\n    const [whatsapp, Whatsapp] = useState(\"\");\n    const [facebook, Facebook] = useState(\"\");\n    const [twitter, Twitter] = useState(\"\");\n    const [instagram, Instagram] = useState(\"\");\n    const [favorite, Favorite] = useState(false);\n    const [photo, Photo] = useState(\"\");\n    const [loading, Loading] = useState(false);\n\n    const categoriesOpts = categories.map(cat => ({ key: cat._id, value: cat._id, text: cat.name }));\n\n    const RegisterContact = async () => {\n        Loading(true);\n\n        const settings = strip({\n            firstName: first,\n            lastName: last,\n            mainTelephone: {\n                code: mainTelCode,\n                value: mainTelVal\n            },\n            mainEmail,\n            category,\n            emails,\n            telephones: tels,\n            who,\n            about,\n            messangers: {\n                telegram,\n                viber,\n                whatsapp,\n                instagram,\n                twitter,\n                facebook\n            },\n            favorite,\n            photo\n        })[1];\n\n        if (birthDate) {\n            settings.birthDate = new Date(\n                (new Date(birthDate)).getFullYear(),\n                (new Date(birthDate)).getMonth(),\n                (new Date(birthDate)).getDate()\n            );\n        }\n\n        await addContact(settings);\n\n        Loading(false);\n        window.location.reload();\n    };\n\n    return (\n        <Form onSubmit={RegisterContact}>\n            <Form.Group>\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => First(e.target.value)}\n                    placeholder=\"First name\"\n                />\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => Last(e.target.value)}\n                    placeholder=\"Last name\"\n                />\n            </Form.Group>\n            <TelField\n                onChangeCode={e => MainTelCode(e.target.value)}\n                codePlaceholder=\"Main telephone code\"\n                onChangeVal={e => MainTelVal(e.target.value)}\n                valPlaceholder=\"Main telephone value\"\n            />\n            {tels.map((tel, i) => (\n                <TelField\n                    key={i}\n                    onChangeCode={e => tels[i].code = e.target.value}\n                    onChangeVal={e => tels[i].value = e.target.value}\n                    codePlaceholder={\"Tel #\" + (i + 2) + \" code\"}\n                    valPlaceholder={\"Tel #\" + (i + 2) + \" value\"}\n                    valDef={tel.value}\n                    codeDef={tel.code}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={tels.length > 9}\n                onClick={() => tels.length <= 10 ? Tels([...tels, { code: \"\", value: \"\" }]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add telephone\n            </Button>\n            <EmailField\n                onChange={e => MainEmail(e.target.value)}\n                placeholder=\"Main email\"\n            />\n            {emails.map((email, i) => (\n                <EmailField\n                    key={i}\n                    onChange={e => emails[i] = e.target.value}\n                    placeholder={\"Email #\" + (i + 2)}\n                    defaultValue={email}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={emails.length > 9}\n                onClick={() => emails.length <= 10 ? Emails([...emails, \"\"]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add email\n            </Button>\n            <Form.Select options={categoriesOpts} onChange={(e, data) => Category(data.value)} defaultValue={category} />\n            <Form.Input\n                fluid\n                onChange={e => Who(e.target.value)}\n                placeholder=\"Who\"\n            />\n            <Form.TextArea\n                onChange={e => About(e.target.value)}\n                placeholder=\"About\"\n            />\n            <Form.Group style={{ width: \"100%\" }}>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Telegram\"\n                    onChange={e => Telegram(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Viber\"\n                    onChange={e => Viber(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Whatsapp\"\n                    onChange={e => Whatsapp(e.target.value)}\n                />\n            </Form.Group>\n            <Form.Group>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Facebook\"\n                    onChange={e => Facebook(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Twitter\"\n                    onChange={e => Twitter(e.target.value)}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Instagram\"\n                    onChange={e => Instagram(e.target.value)}\n                />\n            </Form.Group>\n            <Form.Input\n                fluid\n                type=\"date\"\n                placeholder=\"Birth date\"\n                onChange={(e, data) => BirthDate(data.value)}\n            />\n            <Form.Checkbox \n                label=\"Favorite\"\n                onChange={(e, data) => Favorite(data.checked)}\n                toggle\n            />\n            <FileInput buttonText=\"Choose contact photo\" onChange={val => Photo(val)} setLoading={Loading} />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                size=\"large\"\n                loading={loading}\n                disabled={!(mainTelCode && mainTelVal)}\n            >\n                Add contact\n            </Button>\n        </Form>\n    );\n};\n\nexport default AddContactForm;\n","import React from \"react\";\nimport Logo from \"../../components/Logo\";\nimport { Header, Grid, Segment } from \"semantic-ui-react\";\nimport AddContactForm from \"../../components/AddContactForm\";\n\nconst AddContactPage = ({ categories }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\">\n            <Grid.Column style={{ maxWidth: 500 }}>\n                <Logo noImage />\n                <Header color=\"olive\" size=\"large\">Add contact to your book</Header>\n                <Segment>\n                    <AddContactForm categories={categories} />\n                </Segment>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nexport default AddContactPage;\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport { update } from \"../../services/category\";\n\nconst UpdateCategoryForm = ({ defs, id }) => {\n    const [name, Name] = useState(defs.name || \"\");\n    const [about, About] = useState(defs.about || \"\");\n    const [loading, Loading] = useState(false);\n\n    const Update = async () => {\n        if (!name || loading) return;\n        Loading(true);\n        await update(id, { name, about });\n        Loading(false);\n        window.location.reload();\n    }\n\n    return (\n        <Form onSubmit={Update}>\n            <Form.Input\n                fluid\n                icon=\"id card outline\"\n                iconPosition=\"left\"\n                placeholder=\"Name\"\n                onChange={e => Name(e.target.value)}\n                defaultValue={name}\n            />\n            <Form.TextArea\n                fluid=\"true\"\n                placeholder=\"About\"\n                onChange={e => About(e.target.value)}\n                defaultValue={about}\n            />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n                disabled={!name}\n            >\n                Update category\n            </Button>\n        </Form>\n    );\n};\n\nexport default UpdateCategoryForm;\n","import React from \"react\";\nimport { Segment, Grid, Header, Statistic, Button, Modal } from \"semantic-ui-react\";\nimport UpdateCategoryForm from \"../../components/UpdateCategoryForm\";\nimport { connect } from \"react-redux\"\nimport { deleteCategory } from \"../../services/category\";\n\nconst Category = ({ category, user }) => {\n    const Delete = async () => {\n        if (category.contactsCount !== 0) {\n            return alert(\n                \"Change category from \" +\n                category.name +\n                \" to another in \" +\n                category.contactsCount +\n                \" contact\" +\n                (category.contactsCount !== 1 ? \"s\" : \"\") +\n                \" and then try again. Good luck!\\nPRO TIP: use filter\"\n            );\n        }\n\n        await deleteCategory(category._id);\n        window.location.reload();\n    };\n\n    return (\n        <Segment>\n            <Grid columns=\"4\" textAlign=\"center\" verticalAlign=\"middle\">\n                <Grid.Column>\n                    <Header>{category.name}</Header>\n                </Grid.Column>\n                <Grid.Column>\n                    <Statistic\n                        size=\"tiny\"\n                        value={category.contactsCount}\n                        label={\"contact\" + (category.contactsCount !== 1 ? \"s\" : \"\")}\n                    />\n                </Grid.Column>\n                <Grid.Column>\n                    {category.about}\n                </Grid.Column>\n                {user._id === category.user ? (\n                    <Grid.Column>\n                        <Button.Group>\n                            <Modal openOnTriggerClick closeIcon trigger={<Button icon=\"refresh\" color=\"yellow\" />}>\n                                <Modal.Header>Update {category.name} category</Modal.Header>\n                                <Modal.Content>\n                                    <UpdateCategoryForm defs={category} id={category._id} />\n                                </Modal.Content>\n                            </Modal>\n                            <Modal openOnTriggerClick closeIcon trigger={<Button icon=\"trash\" negative />}>\n                                <Modal.Header>Are you sure?</Modal.Header>\n                                <Modal.Content>\n                                    Are you sure about deleting {category.name} category?\n                                </Modal.Content>\n                                <Modal.Actions>\n                                    <Button negative onClick={Delete}>Yes</Button>\n                                </Modal.Actions>\n                            </Modal>\n                        </Button.Group>\n                    </Grid.Column>\n                ) : \"\"}\n            </Grid>\n        </Segment>\n    );\n};\n\nconst mapStateToProps = state => ({\n    user: state.profile.profile\n});\n\nexport default connect(mapStateToProps)(Category);\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport { add } from \"../../services/category\";\nimport strip from \"../../stripEmpty.util\";\n\nconst AddCategoryForm = () => {\n    const [name, Name] = useState(\"\");\n    const [nameValid, NameValid] = useState(true);\n    const [about, About] = useState(\"\");\n    const [loading, Loading] = useState(false);\n\n    const setName = val => {\n        NameValid(true);\n        Name(val);\n    };\n\n    const Add = async () => {\n        if (!name || !nameValid || loading) return;\n        Loading(true);\n        await add(strip({ name, about })[1]);\n        Loading(false);\n        window.location.reload();\n    }\n\n    return (\n        <Form onSubmit={Add}>\n            <Form.Input\n                fluid\n                icon=\"id card outline\"\n                iconPosition=\"left\"\n                placeholder=\"Name\"\n                onChange={e => setName(e.target.value)}\n                onBlur={() => NameValid(Boolean(name))}\n                error={!nameValid}\n            />\n            <Form.TextArea\n                fluid=\"true\"\n                placeholder=\"About\"\n                onChange={e => About(e.target.value)}\n            />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n            >\n                Add category\n            </Button>\n        </Form>\n    );\n};\n\nexport default AddCategoryForm;\n","import React from \"react\";\nimport Category from \"../Category\";\nimport AddCategoryForm from \"../../components/AddCategoryForm\";\n\nconst CategoriesPage = ({ categories }) => {\n    return (\n        <>\n            {categories.map(cat => <Category category={cat} key={cat._id} />)}\n            <AddCategoryForm />\n        </>\n    );\n};\n\nexport default CategoriesPage;\n","import React from \"react\";\nimport { Segment, List, Header } from \"semantic-ui-react\";\nimport { getBirthdays } from \"../../services/contact\";\n\nclass BirthdaysPage extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            requested: false,\n            birthdays: []\n        };\n    }\n\n    componentDidMount() {\n        if (!this.state.requested) {\n            getBirthdays().then(birthdays => this.setState({ requested: true, birthdays }));\n        }\n    }\n\n    render() {\n        if (this.state.requested) {\n            const getContactName = contact => {\n                if (contact.firstName || contact.lastName) {\n                    return (contact.firstName || \"\") + \" \" + (contact.lastName || \"\");\n                } else {\n                    return contact.mainTelephone.code + contact.mainTelephone.value;\n                }\n            };\n\n            return (\n                <Segment textAlign=\"center\" style={{\n                    backgroundBlendMode: \"overlay\",\n                    backgroundImage: \"url('https://i.pinimg.com/474x/7a/bb/e0/7abbe0f43c47ba3340053bd825251995--neon-lights-party-glow-party.jpg')\",backgroundColor: \"#000B\"\n                }}>\n                    <Header size=\"large\" color=\"olive\">Coming birthdays</Header>\n                    <List>\n                        {this.state.birthdays.length > 0 ? this.state.birthdays.map(contact => (\n                            <List.Item key={contact._id}>\n                                <Header size=\"small\" color=\"green\">\n                                    {getContactName(contact)}\n                                    <Header.Subheader style={{ color: \"yellow\" }}>{contact.birthdayStr}</Header.Subheader>\n                                </Header>\n                            </List.Item>\n                        )) : <Header size=\"medium\" style={{ color: \"white\" }}>No birthdays</Header>}\n                    </List>\n                </Segment>\n            );\n        } else {\n            return \"\";\n        }\n    }\n}\n\nexport default BirthdaysPage;\n","import React, { createRef } from \"react\";\nimport { Form, Segment, Select, Button, Modal, Grid } from \"semantic-ui-react\";\nimport { get } from \"../../services/category\";\nimport Spinner from \"../../components/Spinner\";\nimport querystring from \"querystring\";\nimport AddContactPage from \"../AddContactPage\";\nimport CategoriesPage from \"../CategoriesPage\";\nimport BirthdaysPage from \"../BirthdaysPage\";\n\nclass Sidebar extends React.Component {\n    constructor({ filterDefs }) {\n        super();\n        this.state = { requested: false, categories: null };\n        this.newFilter = filterDefs || {};\n        this.addContactTrigger = createRef();\n    }\n\n    componentDidMount() {\n        if (!this.state.requested) {\n            get().then(categories => this.setState({ requested: true, categories }));\n        }\n    }\n\n    toTop() {\n        const interval = setInterval(() => {\n            if (window.scrollY <= 10) {\n                clearInterval(interval);\n            }\n\n            window.scrollBy(0, -20);\n        }, 10);\n    }\n\n    render() {\n        if (!this.state.requested) return <Spinner />\n\n        const { categories } = this.state;\n\n        const categoriesOptions = [\n            { key: \"\", value: \"\", text: \"-\" },\n            ...categories.map(category => ({\n                key: category.name,\n                value: category.name,\n                text: category.name\n            }))\n        ];\n\n        return (\n            <Grid columns=\"2\">\n                <Grid.Column>\n                    <Segment style={{ maxWidth: 300, backgroundColor: \"black\" }}>\n                        <Form onSubmit={() => \n                                window.location.href = window.location.origin +\n                                \"?\" +\n                                querystring.stringify(this.newFilter)}>\n                            <Form.Input\n                                fluid\n                                icon=\"users\"\n                                iconPosition=\"left\"\n                                placeholder=\"First name\"\n                                onChange={e => this.newFilter.firstName = e.target.value}\n                                defaultValue={this.newFilter.firstName || \"\"}\n                            />\n                            <Form.Input\n                                fluid\n                                icon=\"users\"\n                                iconPosition=\"left\"\n                                placeholder=\"Last name\"\n                                onChange={e => this.newFilter.lastName = e.target.value}\n                                defaultValue={this.newFilter.lastName || \"\"}\n                            />\n                            <Form.Input\n                                fluid\n                                icon=\"at\"\n                                iconPosition=\"left\"\n                                placeholder=\"Email\"\n                                onChange={e => this.newFilter.mainEmail = e.target.value}\n                                defaultValue={this.newFilter.mainEmail || \"\"}\n                            />\n                            <Select\n                                fluid\n                                placeholder=\"Select category\"\n                                options={categoriesOptions}\n                                onChange={(e, data) => this.newFilter.category = data.value}\n                                style={{ marginBottom: 10 }}\n                                defaultValue={this.newFilter.category || null}\n                            />\n                            <Button.Group fluid size=\"large\">\n                                <Button\n                                    primary\n                                    type=\"submit\"\n                                >\n                                    Filter contacts\n                                </Button>\n                                <Button.Or />\n                                <Button\n                                    secondary\n                                    inverted\n                                    onClick={() => {\n                                        this.newFilter = {};\n                                        window.location.href = \"/\";\n                                    }}\n                                >\n                                    Reset filter\n                                </Button>\n                            </Button.Group>\n                        </Form>\n                    </Segment>\n                    <Button.Group>\n                        <Button\n                            icon=\"angle up\"\n                            positive\n                            onClick={this.toTop}\n                        />\n                        <Button.Or />\n                        <Modal openOnTriggerClick closeIcon trigger={<Button primary>Add contact</Button>}>\n                            <Modal.Header>\n                                Add contact\n                            </Modal.Header>\n                            <Modal.Content>\n                                <AddContactPage categories={categories} />\n                            </Modal.Content>\n                        </Modal>\n                        <Button.Or />\n                        <Modal openOnTriggerClick closeIcon trigger={<Button secondary>View categories</Button>}>\n                            <Modal.Header>\n                                All categories\n                            </Modal.Header>\n                            <Modal.Content>\n                                <CategoriesPage categories={categories} />\n                            </Modal.Content>\n                        </Modal>\n                    </Button.Group>\n                </Grid.Column>\n                <Grid.Column>\n                    <BirthdaysPage />\n                </Grid.Column>\n            </Grid>\n        );\n    }\n}\n\nexport default Sidebar;\n","import React from \"react\";\nimport { Grid, Sticky, Segment, Header } from \"semantic-ui-react\";\nimport Contact from \"../../components/Contact\";\nimport { setExpandedContact } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\nimport Sidebar from \"../Sidebar\";\n\nconst Contacts = ({ contacts, onContactClick, filterDefs }) => {\n    return (\n        <Grid columns=\"2\">\n            <Grid.Column>\n                {contacts.length > 0\n                    ? <>{contacts.map(contact => <Contact key={contact._id} contact={contact} onClick={onContactClick}/>)}</>\n                    : (\n                        <Segment>\n                            <Header size=\"huge\" textAlign=\"center\">Oops! No contacts found!</Header>\n                        </Segment>\n                    )}\n            </Grid.Column>\n            <Grid.Column stretched>\n                <Sticky offset={50}>\n                    <Sidebar filterDefs={filterDefs} />\n                </Sticky>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    onContactClick: contact => () => dispatch(setExpandedContact(contact))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Contacts);\n","import React, { useState } from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport FileInput from \"../FileInput\";\nimport EmailField from \"../AddContactForm/EmailField\";\nimport TelField from \"../AddContactForm/TelField\";\nimport { updateContact } from \"../../services/contact\";\n\nconst UpdateContactForm = ({ categories, id, defs }) => {\n    defs.birthDate && (defs.birthDate = new Date(defs.birthDate));\n    const [first, First] = useState(defs.firstName || \"\");\n    const [last, Last] = useState(defs.lastName || \"\");\n    const [mainTelCode, MainTelCode] = useState(defs.mainTelephone ? (defs.mainTelephone.code || \"\") : \"\");\n    const [mainTelVal, MainTelVal] = useState(defs.mainTelephone ? (defs.mainTelephone.value || \"\") : \"\");\n    const [mainEmail, MainEmail] = useState(defs.mainEmail || \"\");\n    const [category, Category] = useState(defs.category._id || categories[0]._id);\n    const [emails, Emails] = useState(defs.emails || []);\n    const [tels, Tels] = useState(defs.telephones ? (defs.telephones.map(tel => ({ code: tel.code, value: tel.value }))) : []);\n    const __fmt__ = date => date >= 10 ? date : \"0\" + String(date);\n    const __fmt_Y__ = date => date >= 999 ? date : \"0\".repeat(4 - date.length) + String(date);\n    const [birthDate, BirthDate] = useState(defs.birthDate || \"\");\n    const [who, Who] = useState(defs.who || \"\");\n    const [about, About] = useState(defs.about || \"\");\n    const [telegram, Telegram] = useState(defs.messangers ? (defs.messangers.telegram || \"\") : \"\");\n    const [viber, Viber] = useState(defs.messangers ? (defs.messangers.viber || \"\") : \"\");\n    const [whatsapp, Whatsapp] = useState(defs.messangers ? (defs.messangers.whatsapp || \"\") : \"\");\n    const [facebook, Facebook] = useState(defs.messangers ? (defs.messangers.facebook || \"\") : \"\");\n    const [twitter, Twitter] = useState(defs.messangers ? (defs.messangers.twitter || \"\") : \"\");\n    const [instagram, Instagram] = useState(defs.messangers ? (defs.messangers.instagram || \"\") : \"\");\n    const [favorite, Favorite] = useState(defs.favorite || false);\n    const [photo, Photo] = useState(defs.photo ? (defs.photo._id || \"\") : \"\");\n    const [loading, Loading] = useState(false);\n\n    const categoriesOpts = categories.map(cat => ({ key: cat._id, value: cat._id, text: cat.name }));\n\n    const UpdateContact = async () => {\n        Loading(true);\n\n        const settings = {\n            firstName: first,\n            lastName: last,\n            mainTelephone: {\n                code: mainTelCode,\n                value: mainTelVal\n            },\n            mainEmail,\n            category: category,\n            emails,\n            telephones: tels,\n            ...(birthDate ? { \n                birthDate: new Date(\n                    (new Date(birthDate)).getFullYear(),\n                    (new Date(birthDate)).getMonth(),\n                    (new Date(birthDate)).getDate()\n                )\n            } : {}),\n            who,\n            about,\n            messangers: {\n                telegram,\n                viber,\n                whatsapp,\n                instagram,\n                twitter,\n                facebook\n            },\n            favorite\n        };\n\n        settings.photo = photo || \"\";\n\n        await updateContact(id, settings);\n\n        Loading(false);\n        window.location.reload();\n    };\n\n    let birthDateForDelault;\n\n    if (defs.birthDate) {\n        birthDateForDelault = new Date(defs.birthDate.getFullYear(), defs.birthDate.getMonth() + 1, defs.birthDate.getDate());\n    }\n\n    return (\n        <Form onSubmit={UpdateContact}>\n            <Form.Group>\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => First(e.target.value)}\n                    placeholder=\"First name\"\n                    defaultValue={first}\n                />\n                <Form.Input\n                    width={7}\n                    fluid\n                    icon=\"users\"\n                    iconPosition=\"left\"\n                    onChange={e => Last(e.target.value)}\n                    placeholder=\"Last name\"\n                    defaultValue={last}\n                />\n            </Form.Group>\n            <TelField\n                onChangeCode={e => MainTelCode(e.target.value)}\n                codePlaceholder=\"Main telephone code\"\n                onChangeVal={e => MainTelVal(e.target.value)}\n                valPlaceholder=\"Main telephone value\"\n                valDef={mainTelVal}\n                codeDef={mainTelCode}\n            />\n            {tels.map((tel, i) => (\n                <TelField\n                    key={i}\n                    onChangeCode={e => tels[i].code = e.target.value}\n                    onChangeVal={e => tels[i].value = e.target.value}\n                    codePlaceholder={\"Tel #\" + (i + 2) + \" code\"}\n                    valPlaceholder={\"Tel #\" + (i + 2) + \" value\"}\n                    valDef={tel.value}\n                    codeDef={tel.code}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={tels.length > 9}\n                onClick={() => tels.length <= 10 ? Tels([...tels, { code: \"\", value: \"\" }]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add telephone\n            </Button>\n            <EmailField\n                onChange={e => MainEmail(e.target.value)}\n                placeholder=\"Main email\"\n                defaultValue={mainEmail}\n            />\n            {emails.map((email, i) => (\n                <EmailField\n                    key={i}\n                    onChange={e => emails[i] = e.target.value}\n                    placeholder={\"Email #\" + (i + 2)}\n                    defaultValue={email}\n                />\n            ))}\n            <Button\n                fluid\n                positive\n                disabled={emails.length > 9}\n                onClick={() => emails.length <= 10 ? Emails([...emails, \"\"]) : null}\n                style={{ marginBottom: 10 }}\n                type=\"button\"\n            >\n                + Add email\n            </Button>\n            <Form.Select options={categoriesOpts} onChange={(e, data) => Category(data.value)} defaultValue={category} />\n            <Form.Input\n                fluid\n                onChange={e => Who(e.target.value)}\n                placeholder=\"Who\"\n                defaultValue={who}\n            />\n            <Form.TextArea\n                onChange={e => About(e.target.value)}\n                placeholder=\"About\"\n                defaultValue={about}\n            />\n            <Form.Group style={{ width: \"100%\" }}>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Telegram\"\n                    onChange={e => Telegram(e.target.value)}\n                    defaultValue={telegram}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Viber\"\n                    onChange={e => Viber(e.target.value)}\n                    defaultValue={viber}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Whatsapp\"\n                    onChange={e => Whatsapp(e.target.value)}\n                    defaultValue={whatsapp}\n                />\n            </Form.Group>\n            <Form.Group>\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Facebook\"\n                    onChange={e => Facebook(e.target.value)}\n                    defaultValue={facebook}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Twitter\"\n                    onChange={e => Twitter(e.target.value)}\n                    defaultValue={twitter}\n                />\n                <Form.Input\n                    width={5}\n                    fluid\n                    placeholder=\"Instagram\"\n                    onChange={e => Instagram(e.target.value)}\n                    defaultValue={instagram}\n                />\n            </Form.Group>\n            <Form.Input\n                fluid\n                type=\"date\"\n                label=\"Birth date\"\n                labelPosition=\"left\"\n                placeholder=\"Birth date\"\n                onChange={(e, data) => BirthDate(data.value)}\n                defaultValue={defs.birthDate ? (\n                    __fmt_Y__(birthDateForDelault.getFullYear()) + \"-\" +\n                    __fmt__(birthDateForDelault.getMonth()) + \"-\" +\n                    __fmt__(birthDateForDelault.getDate())\n                ) : \"\"}\n            />\n            <Form.Checkbox \n                label=\"Favorite\"\n                onChange={(e, data) => Favorite(data.checked)}\n                checked={favorite}\n                toggle\n            />\n            <FileInput\n                buttonText=\"Choose new contact photo\"\n                onChange={val => Photo(val)}\n                setLoading={Loading}\n                startUploaded\n            />\n            <Button\n                fluid\n                primary\n                type=\"submit\"\n                size=\"large\"\n                loading={loading}\n                disabled={!(mainTelCode && mainTelVal)}\n            >\n                Update contact\n            </Button>\n        </Form>\n    );\n};\n\nexport default UpdateContactForm;\n","import React from \"react\";\nimport Logo from \"../../components/Logo\";\nimport { Header, Grid, Segment } from \"semantic-ui-react\";\nimport UpdateContactForm from \"../../components/UpdateContactForm\";\n\nconst UpdateContactPage = ({ categories, id, defs }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\">\n            <Grid.Column style={{ maxWidth: 500 }}>\n                <Logo noImage />\n                <Header color=\"olive\" size=\"large\">Update contact in your book</Header>\n                <Segment>\n                    <UpdateContactForm categories={categories} id={id} defs={defs} />\n                </Segment>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nexport default UpdateContactPage;\n","import React, { useState } from \"react\";\nimport { Modal, Button, Form, Icon, Divider } from \"semantic-ui-react\";\nimport validator from \"validator\";\nimport { share } from \"../../services/contact\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { NotificationManager, NotificationContainer } from \"react-notifications\";\n\nconst ShareContact = ({ id }) => {\n    const [email, Email] = useState(\"\");\n    const [valid, Valid] = useState(true);\n    const [loading, Loading] = useState(false);\n\n    const setEmail = val => {\n        Email(val);\n        Valid(true);\n    };\n\n    const Share = async () => {\n        if (!email || !valid) return;\n        Loading(true);\n        await share(id, email);\n        Loading(false);\n        window.location.reload();\n    };\n\n    const link = window.location.origin + \"/shared/\" + id;\n\n    return (\n        <Modal closeIcon openOnTriggerClick trigger={<Button positive><Icon name=\"share alternate\" />Share</Button>}>\n            <Modal.Header>\n                Share a contact with person\n            </Modal.Header>\n            <Modal.Content>\n                <Form.Input\n                    fluid\n                    value={link}\n                    action={(\n                        <CopyToClipboard text={link} onCopy={() => {\n                            NotificationManager.success(\"Link copied to the clipboard\", \"Copied!\", 2000)\n                        }}>\n                            <Button color=\"teal\">\n                                <Icon name=\"copy\" />\n                                Copy link to the contact\n                            </Button>\n                        </CopyToClipboard>\n                    )}\n                />\n                <NotificationContainer />\n                <Divider horizontal>or</Divider>\n                <Form onSubmit={Share}>\n                    <Form.Input\n                        icon=\"at\"\n                        fluid\n                        iconPosition=\"left\"\n                        placeholder=\"Email, on which you would like to send a message about sharing\"\n                        onChange={e => setEmail(e.target.value)}\n                        onBlur={() => Valid(validator.isEmail(email))}\n                        error={!valid}\n                    />\n                    <Button type=\"submit\" positive disabled={!email} loading={loading}>Share!</Button>\n                </Form>\n            </Modal.Content>\n        </Modal>\n    );\n};\n\nexport default ShareContact;\n","import React, { useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { setExpandedContact } from \"../../redux/actions\";\nimport { Modal, Grid, Label, Button, Image } from \"semantic-ui-react\";\nimport { get as getCategories } from \"../../services/category\";\nimport UpdateContactPage from \"../UpdateContactPage\";\nimport { deleteContact, addContact } from \"../../services/contact\";\nimport ShareContact from \"../../components/ShareContact\";\nimport stripEmpty from \"../../stripEmpty.util\";\n\nconst ExpandedContact = ({ contact, Close, isNew }) => {\n    const categories = useRef();\n    const requested = useRef();\n\n    useEffect(() => {\n        (async () => {\n            if (!requested.current) {\n                categories.current = await getCategories();\n                requested.current = true;\n            }\n        })();\n    });\n\n    if (!contact) return \"\";\n\n    return (\n        <Modal onClose={Close} dimmer=\"blurring\" centered={false} open closeIcon>\n            <Modal.Header>\n                {(contact.firstName || \"\") + \" \" + (contact.lastName || \"\") + ((contact.who && (\" - \" + contact.who)) || \"\")}\n            </Modal.Header>\n            <Modal.Content>\n                <Grid columns=\"4\">\n                    <Grid.Column>\n                        {contact.mainEmail ? (\n                            <p>\n                                Email:\n                                <a href={\"mailto:\" + contact.mainEmail}>{\" \" + contact.mainEmail}</a>\n                            </p>\n                        ) : \"\"}\n                        \n                        {contact.mainTelephone ? (\n                            <p>\n                                Telephone:\n                                <a href={\"tel:\" + contact.mainTelephone.code + contact.mainTelephone.value}>\n                                    {\" \" + contact.mainTelephone.code + contact.mainTelephone.value}\n                                </a>\n                            </p>\n                        ) : \"\"}\n\n                        {contact.favorite ? <Label color=\"yellow\">Favorite</Label> : \"\"}\n                        <Label color=\"green\">{contact.category.name}</Label>\n                    </Grid.Column>\n                    <Grid.Column>\n                        {contact.telephones && contact.telephones.map((telephone, i) => \n                            <p key={i}>\n                                <a href={\"tel:\" + telephone.code + telephone.value}>\n                                    {telephone.code + telephone.value}\n                                </a>\n                            </p>)}\n                    </Grid.Column>\n                    <Grid.Column>\n                        {contact.emails && contact.emails.map((email, i) => \n                            <p key={i}>\n                                <a href={\"mailto:\" + email}>\n                                    {email}\n                                </a>\n                            </p>)}\n                    </Grid.Column>\n                    <Grid.Column>\n                        {contact.messangers ? (\n                            <>\n                                {contact.messangers.telegram ? <div>Telegram: {contact.messangers.telegram}</div> : \"\"}\n                                {contact.messangers.viber ? <div>Viber: {contact.messangers.viber}</div> : \"\"}\n                                {contact.messangers.whatsapp ? <div>Whatsapp: {contact.messangers.whatsapp}</div> : \"\"}\n                                {contact.messangers.facebook ? <div>Facebook: {contact.messangers.facebook}</div> : \"\"}\n                                {contact.messangers.instagram ? <div>Instagram: {contact.messangers.instagram}</div> : \"\"}\n                                {contact.messangers.twitter ? <div>Twitter: {contact.messangers.twitter}</div> : \"\"}\n                            </>\n                        ) : \"\"}\n                    </Grid.Column>\n                </Grid>\n                <div style={{ whiteSpace: \"pre-wrap\", margin: 10 }}>{contact.about}</div>\n                <Image circular centered size=\"small\" src={contact.photo.url} alt=\"Photo\" />\n            </Modal.Content>\n            <Modal.Actions>\n                {!isNew ? (\n                    <Button.Group>\n                        <Button positive compact onClick={Close}>Close</Button>\n                        {requested.current ? (\n                            <Modal openOnTriggerClick closeIcon trigger={<Button color=\"yellow\" compact>Update</Button>}>\n                                <Modal.Header>Update contact</Modal.Header>\n                                <Modal.Content>\n                                    <UpdateContactPage id={contact._id} categories={categories.current} defs={contact} />\n                                </Modal.Content>\n                            </Modal>\n                        ) : \"\"}\n                        <Modal openOnTriggerClick closeIcon trigger={<Button negative icon=\"trash\" compact />}>\n                            <Modal.Header>Are you sure?</Modal.Header>\n                            <Modal.Content>\n                                Are you sure want to delete this contact?\n                            </Modal.Content>\n                            <Modal.Actions>\n                                <Button negative onClick={async () => {\n                                    await deleteContact(contact._id);\n                                    window.location.reload();\n                                }}>\n                                    Yes\n                                </Button>\n                            </Modal.Actions>\n                        </Modal>\n                        <ShareContact id={contact._id} />\n                    </Button.Group>\n                ) : (\n                    <Button.Group>\n                        <Button\n                            positive\n                            onClick={async () => {\n                                await addContact(stripEmpty({\n                                    firstName: contact.firstName,\n                                    lastName: contact.lastName,\n                                    mainTelephone: contact.mainTelephone,\n                                    mainEmail: contact.mainEmail,\n                                    category: contact.category._id,\n                                    emails: contact.emails,\n                                    telephones: contact.telephones ? contact.telephones.map(tel => ({ code: tel.code, value: tel.value })) : null,\n                                    who: contact.who,\n                                    about: contact.about,\n                                    messangers: contact.messangers,\n                                    favorite: contact.favorite,\n                                    birthDate: contact.birthDate,\n                                    photo: contact.photo ? contact.photo._id : null\n                                })[1]);\n\n                                window.location.href = \"/\";\n                            }}\n                        >\n                            Accept\n                        </Button>\n                        <Button.Or />\n                        <Button\n                            negative\n                            onClick={async () => {\n                                window.location.href = \"/\";\n                            }}\n                        >\n                            Exit\n                        </Button>\n                    </Button.Group>\n                )}\n            </Modal.Actions>\n        </Modal>\n    );\n};\n\nconst mapStateToProps = state => ({\n    contact: state.contacts.expanded\n});\n\nconst mapDispatchToProps = dispatch => ({\n    Close: () => dispatch(setExpandedContact(null))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExpandedContact);\n","import React from \"react\";\nimport SiteHeader from \"../SiteHeader\";\nimport { getContacts } from \"../../services/contact\";\nimport Contacts from \"../Contacts\";\nimport ExpandedContact from \"../ExpandedContact\";\nimport querystring from \"querystring\";\n\nclass MainPage extends React.Component {\n    constructor({ newExpanded = false, query = undefined }) {\n        super();\n        this.query = query;\n        this.newExpanded = newExpanded;\n        this.state = { requested: false, contacts: [] };\n    }\n\n    componentDidMount() {\n        if (!this.state.requested) {\n            getContacts()\n                .then(contacts => this.setState({ requested: true, contacts }));\n        }\n    }\n\n    render() {\n        document.title = \"Contact Book\";\n        let contacts;\n        const query = this.query !== undefined ? this.query : this.props.location.search;\n        const filter = querystring.parse(query.slice(1, query.length));\n\n        if (filter) {\n            const {\n                firstName: first = \"\",\n                lastName: last = \"\",\n                mainEmail: email = \"\",\n                category: cat = \"\"\n            } = filter;\n\n            contacts = this.state.contacts\n                .filter(c => first ? c.firstName.toLowerCase().includes(first.toLowerCase()) : true)\n                .filter(c => last ? c.lastName.toLowerCase().includes(last.toLowerCase()) : true)\n                .filter(c => email ? c.mainEmail.toLowerCase().includes(email.toLowerCase()) : true)\n                .filter(c => cat ? c.category.name.toLowerCase().includes(cat.toLowerCase()) : true);\n        } else {\n            contacts = this.state.contacts;\n        }\n\n        return (\n            <>\n                <SiteHeader />\n                <Contacts contacts={contacts} filterDefs={filter} />\n                <ExpandedContact isNew={this.newExpanded} />\n            </>\n        );\n    }\n}\n\nexport default MainPage;\n","import React from \"react\";\nimport { Route } from \"react-router\";\n\nconst PrivateRoute = ({ authorized, component: Component, ...rest }) => {\n    const Redirect = () => {\n        return (\n            <>\n                {window.location.href = \"/login\"}\n            </>\n        );\n    }\n\n    if (authorized) {\n        return <Route component={Component} {...rest} />\n    } else {\n        return <Route component={Redirect} />\n    }\n};\n\nexport default PrivateRoute;\n","import React, { useState } from \"react\";\nimport { Form, Button, Label } from \"semantic-ui-react\";\nimport validator from \"validator\";\nimport FileInput from \"../FileInput\";\n\nconst RegisterForm = ({ register, set }) => {\n    const [firstName, FirstName] = useState(\"\");\n    const [lastName, LastName] = useState(\"\");\n    const [email, Email] = useState(\"\");\n    const [password, Password] = useState(\"\");\n    const [image, Image] = useState(null);\n    const [emailValid, EmailValid] = useState(true);\n    const [passwordValid, PasswordValid] = useState(true);\n    const [loading, Loading] = useState(false);\n\n    const Register = async () => {\n        const valid = emailValid && passwordValid;\n        const fields = email && password;\n        if (!valid || !fields || loading) return;\n        Loading(true);\n        const firstNameO = firstName ? { firstName } : {};\n        const lastNameO = lastName ? { lastName } : {};\n        const imageO = image ? { photo: image } : {};\n        const result = await register({ email, password, ...lastNameO, ...firstNameO, ...imageO });\n        Loading(false);\n\n        if (result.message) {\n            alert(result.message);\n        } else if (result.user) {\n            localStorage.setItem(\"user\", JSON.stringify(result.user));\n            set(result.user);\n            window.location.href = \"/\";\n        }\n    };\n\n    const setEmail = val => {\n        Email(val);\n        EmailValid(true);\n    };\n\n    const setPassword = val => {\n        Password(val);\n        PasswordValid(true);\n    }\n\n    document.title = \"Contact Book | Sign up\";\n\n    return (\n        <Form onSubmit={Register}>\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"First name\"\n                onChange={e => FirstName(e.target.value)}\n            />\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"Last name\"\n                onChange={e => LastName(e.target.value)}\n            />\n            <Form.Input\n                icon=\"at\"\n                type=\"email\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                error={!emailValid}\n                fluid\n                onChange={e => setEmail(e.target.value)}\n                onBlur={() => EmailValid(validator.isEmail(email))}\n            />\n            <Label style={{ marginBottom: 10 }} color={password.length >= 6 ? \"green\" : \"grey\"}>\n                Password must be at least 6 characters long\n            </Label>\n            <Form.Input\n                icon=\"lock\"\n                type=\"password\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                error={!passwordValid}\n                fluid\n                onChange={e => setPassword(e.target.value)}\n                onBlur={() => PasswordValid(Boolean(password && password.length >= 6))}\n            />\n            <FileInput buttonText=\"Choose profile photo\" onChange={id => Image(id)} setLoading={Loading} />\n            <div style={{ marginBottom: 10 }}>Don't worry, if your image does not load. Just wait for a several minutes</div>\n            <Button\n                color=\"teal\"\n                size=\"large\"\n                fluid\n                primary\n                type=\"submit\"\n                loading={loading}\n                disabled={!Boolean(password && email && emailValid) || !(password.length >= 6)}\n            >\n                Sign up\n            </Button>\n        </Form>\n    );\n};\n\nexport default RegisterForm;\n","import React from \"react\";\nimport { Grid, Segment, Header, Message, Button } from \"semantic-ui-react\";\nimport { register } from \"../../services/user\";\nimport RegisterForm from \"../../components/RegisterForm\";\nimport { connect } from \"react-redux\";\nimport { setProfile } from \"../../redux/actions\";\nimport Logo from \"../../components/Logo\";\n\nconst RegisterPage = ({ setProfile }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Logo />\n                <Header as=\"h2\" color=\"olive\">Sign up to Contact Book</Header>\n                <Segment>\n                    <RegisterForm register={register} set={setProfile} />\n                </Segment>\n                <Message>\n                    <Message.Header>Already with us?</Message.Header>\n                    <Message.Content>\n                        <Button\n                            onClick={() => window.location.href = \"/login\"}\n                            compact\n                            size=\"small\"\n                            color=\"teal\"\n                            style={{ marginTop: 10 }}\n                        >\n                            Log in\n                        </Button>\n                    </Message.Content>\n                </Message>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = () => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    setProfile: user => dispatch(setProfile(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterPage);\n","import React, { useState } from \"react\";\nimport { Form, Button, Message } from \"semantic-ui-react\";\nimport validator from \"validator\";\nimport FileInput from \"../FileInput\";\n\nconst UpdateProfileForm = ({ update, set, defs }) => {\n    const [firstName, FirstName] = useState(defs.firstName || \"\");\n    const [lastName, LastName] = useState(defs.lastName || \"\");\n    const [email, Email] = useState(defs.email || \"\");\n    const [password, Password] = useState(null);\n    const [image, Image] = useState(defs.photo ? (defs.photo._id || \"\") : \"\");\n    const [emailValid, EmailValid] = useState(true);\n    const [passwordValid, PasswordValid] = useState(false);\n    const [loading, Loading] = useState(false);\n    const [errorMessage, ErrorMessage] = useState(\"\");\n\n    const Update = async () => {\n        const valid = emailValid && passwordValid;\n        if (!valid || !email || !password || loading) return;\n        Loading(true);\n        const result = await update({ email, password, lastName, firstName, photo: image || \"\" });\n        Loading(false);\n\n        if (result.message) {\n            ErrorMessage(result.message);\n        } else if (result.user) {\n            localStorage.setItem(\"user\", JSON.stringify(result.user));\n            set(result.user);\n            window.location.href = \"/\";\n        }\n    };\n\n    const setEmail = val => {\n        Email(val);\n        EmailValid(true);\n    };\n\n    const setPassword = val => {\n        Password(val);\n        PasswordValid(true);\n    }\n\n    document.title = \"Contact Book | Update profile\";\n\n    return (\n        <Form onSubmit={Update}>\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"First name\"\n                onChange={e => FirstName(e.target.value)}\n                defaultValue={firstName}\n            />\n            <Form.Input\n                type=\"text\"\n                fluid\n                iconPosition=\"left\"\n                icon=\"users\"\n                placeholder=\"Last name\"\n                onChange={e => LastName(e.target.value)}\n                defaultValue={lastName}\n            />\n            <Form.Input\n                icon=\"at\"\n                type=\"email\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                error={!emailValid}\n                fluid\n                onChange={e => setEmail(e.target.value)}\n                onBlur={() => EmailValid(validator.isEmail(email))}\n                defaultValue={email}\n            />\n            <Form.Input\n                icon=\"lock\"\n                type=\"password\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                error={!passwordValid}\n                fluid\n                onChange={e => setPassword(e.target.value)}\n                onBlur={() => PasswordValid(Boolean(password && password.length >= 6))}\n                defaultValue={password}\n            />\n            <FileInput buttonText=\"Choose profile photo\" onChange={id => Image(id)} setLoading={Loading} startUploaded />\n            <Button.Group fluid>\n                <Button\n                    color=\"teal\"\n                    size=\"large\"\n                    primary\n                    type=\"submit\"\n                    loading={loading}\n                    disabled={!Boolean(email && password && emailValid) || !(password ? password.length >= 6 : true)}\n                >\n                    Update my profile\n                </Button>\n                <Button\n                    color=\"teal\"\n                    size=\"large\"\n                    secondary\n                    type=\"button\"\n                    onClick={() => window.location.href = \"/\"}\n                >\n                    Cancel\n                </Button>\n            </Button.Group>\n            {errorMessage ? (\n                <Message negative style={{ display: \"block\" }}>\n                    <Message.Header>Error!</Message.Header>\n                    <Message.Content>\n                        {errorMessage}\n                    </Message.Content>\n                </Message>\n            ) : \"\"}\n        </Form>\n    );\n};\n\nexport default UpdateProfileForm;\n","import React from \"react\";\nimport { Grid, Segment, Header } from \"semantic-ui-react\";\nimport { update } from \"../../services/user\";\nimport UpdateProfileForm from \"../../components/UpdateProfileForm\";\nimport { connect } from \"react-redux\";\nimport { setProfile } from \"../../redux/actions\";\nimport Logo from \"../../components/Logo\";\n\nconst UpdateProfilePage = ({ setProfile, defs }) => {\n    return (\n        <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Logo />\n                <Header as=\"h2\" color=\"olive\">Update your Contact Book profile</Header>\n                <Segment>\n                    <UpdateProfileForm update={update} set={setProfile} defs={defs} />\n                </Segment>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst mapStateToProps = state => ({\n    defs: state.profile.profile\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setProfile: user => dispatch(setProfile(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdateProfilePage);\n","import React from \"react\";\nimport { Grid, Header, Button } from \"semantic-ui-react\";\n\nconst NotFound = () => {\n    document.body.style.backgroundColor = \"black\";\n\n    return (\n        <Grid centered columns=\"1\" textAlign=\"center\" verticalAlign=\"middle\" className=\"fill\">\n            <Grid.Column style={{ maxWidth: 450 }}>\n                <Header color=\"red\" size=\"huge\" textAlign=\"center\" inverted>404 Page not found</Header>\n                <Button\n                    positive\n                    compact\n                    size=\"massive\"\n                    fluid\n                    onClick={() => window.location.href = \"/\"}\n                >\n                    Back, to home\n                </Button>\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport MainPage from \"../MainPage\";\nimport { getContactById } from \"../../services/contact\";\nimport Spinner from \"../../components/Spinner\";\nimport { setExpandedContact } from \"../../redux/actions\";\nimport { connect } from \"react-redux\";\n\nclass SharedContactPage extends React.Component {\n    constructor({ setContact }) {\n        super();\n        this.setContact = setContact;\n\n        this.state = {\n            requested: false\n        };\n    }\n\n    componentDidMount() {\n        if (!this.state.requested) {\n            const { id } = this.props.match.params;\n\n            getContactById(id).then(contact => {\n                this.setContact(contact);\n                this.setState({ requested: true });\n            });\n        }\n    }\n\n    render() {\n        if (!this.state.requested) {\n            return <Spinner />\n        } else {\n            return <MainPage newExpanded={true} query={this.props.location.search} />;\n        }\n    }\n}\n\nconst mapStateToProps = state => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    setContact: contact => dispatch(setExpandedContact(contact))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SharedContactPage);\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router\";\nimport { createBrowserHistory } from \"history\";\nimport LoginPage from \"../LoginPage\";\nimport MainPage from \"../MainPage\";\nimport PrivateRoute from \"../PrivateRoute\";\nimport { profile } from \"../../services/user\";\nimport Spinner from \"../../components/Spinner\";\nimport { connect } from \"react-redux\";\nimport RegisterPage from \"../RegisterPage\";\nimport UpdateProfilePage from \"../UpdateProfilePage\";\nimport NotFound from \"../../scenes/NotFound\";\nimport SharedContactPage from \"../SharedContactPage\";\n\nclass Routing extends React.Component {\n    constructor({ user }) {\n        super();\n        this.history = createBrowserHistory();\n        this.user = user;\n\n        this.state = {\n            requested: false,\n            user: null\n        }\n    }\n\n    componentDidMount() {\n        const userString = localStorage.getItem(\"user\");\n\n        if (userString && this.user.profile) {\n            if (!this.state.requested) {\n                const email = JSON.parse(userString).email;\n\n                profile(email).then(userProfile => {\n                    localStorage.setItem(\"user\", JSON.stringify(userProfile.user));\n                    this.setState({ requested: true, user: userProfile.user });\n                });\n            }\n        } else {\n            this.setState({ requested: true, user: null });\n        }\n    }\n\n    render() {\n        if (!this.state.requested) {\n            return <Spinner />\n        } else {\n            return (\n                <Router history={this.history}>\n                    <Switch>\n                        <Route exact component={LoginPage} path=\"/login\" />\n                        <Route exaxt component={RegisterPage} path=\"/register\" />\n                        <PrivateRoute exact authorized={Boolean(this.state.user) || false} component={MainPage} path=\"/\" />\n                        <PrivateRoute exact authorized={Boolean(this.state.user) || false} component={UpdateProfilePage} path=\"/update\" />\n                        <PrivateRoute authorized={Boolean(this.state.user) || false} component={SharedContactPage} path=\"/shared/:id\" />\n                        <Route path=\"*\" exact component={NotFound} />\n                    </Switch>\n                </Router>\n            );\n        }\n    }\n}\n\nconst mapStateToProps = state => ({\n    user: state.profile\n});\n\nexport default connect(mapStateToProps)(Routing);\n","import { createStore, combineReducers } from \"redux\";\nimport { profile, contacts } from \"./reducers\";\n\nconst reducer = combineReducers({ profile, contacts });\nconst user = localStorage.getItem(\"user\");\n\nconst store = createStore(\n    reducer,\n    {\n        contacts: {\n            expanded: null\n        },\n        profile: {\n            profile: user ? JSON.parse(user) : undefined\n        }\n    }\n);\n\nexport default store;\n","import { SET_PROFILE, SET_EXP_CONTACT } from \"./types\";\n\nexport const profile = (state = {}, action) => {\n    switch (action.type) {\n        case SET_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            };\n        default:\n            return state;\n    }\n};\n\nexport const contacts = (state = {}, action) => {\n    switch (action.type) {\n        case SET_EXP_CONTACT:\n            return {\n                ...state,\n                expanded: action.contact\n            };\n        default:\n            return state;\n    }\n};\n","import React from \"react\";\nimport Routing from \"../../containers/Routing\";\nimport { Provider } from \"react-redux\";\nimport store from \"../../redux/store\";\n\nclass Home extends React.Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <Routing />\n            </Provider>\n        );\n    }\n}\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Home from './scenes/Home';\nimport 'semantic-ui-css/semantic.min.css';\nimport 'react-notifications/lib/notifications.css';\nimport \"./styles/common.scss\";\nimport { PROXY } from \"./config\";\n\nconst prevFetch = window.fetch;\n\nwindow.fetch = async (url, opts) => {\n    let token = localStorage.getItem(\"token\");\n    token = ((token && token.startsWith(\"\\\"\")) ? token.slice(1, -1) : token)\n\n    opts.headers = opts.headers\n        ? { ...opts.headers, \"Authorization\": \"Bearer \" + token }\n        : { \"Authorization\": \"Bearer \" + token };\n\n    return await prevFetch(PROXY + url, opts);\n};\n\nReactDOM.render(\n    <Home />,\n    document.getElementById('root')\n);\n","export const PROXY = process.env.REACT_APP_API_URI;\n"],"sourceRoot":""}